// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,ca,da,N,ga,ha,ja,P,la,ma,na,pa,qa,Q,ta,ua,S,va,wa,xa,ya,za,Aa,Ba,T,Da,Ea,Fa,Ga,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,V,Tb,Ub,Vb,W,Wb,Xb={},Yb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(p){return p.__proto__}:function(p){return p.constructor.prototype});
(function(){function p(c,m,d,q){this.set(c,m,d,q)}function l(){this.pc=this.oc=this.rc=this.qc=this.Lc=this.Kc=this.Fb=this.Eb=0}function a(c,m,d,q){c<m?d<q?(u=c<d?c:d,A=m>q?m:q):(u=c<q?c:q,A=m>d?m:d):d<q?(u=m<d?m:d,A=c>q?c:q):(u=m<q?m:q,A=c>d?c:d)}function f(){this.items=this.hc=null;this.Qe=0;y&&(this.hc=new Set);this.mf=[];this.td=!0}function s(c){F[Z++]=c}function n(){this.R=this.Qh=this.y=this.ki=0}function k(c){this.cf=[];this.Ak=this.Ck=this.Dk=this.Bk=0;this.pg(c)}function b(c,m){this.pi=
c;this.oi=m;this.cells={}}function v(c,m){this.pi=c;this.oi=m;this.cells={}}function g(c,m,d){var q;return ia.length?(q=ia.pop(),q.Wi=c,q.x=m,q.y=d,q):new ba(c,m,d)}function d(c,m,d){this.Wi=c;this.x=m;this.y=d;this.Ca=new ca}function e(c,m,d){var q;return K.length?(q=K.pop(),q.Wi=c,q.x=m,q.y=d,q):new da(c,m,d)}function r(c,m,d){this.Wi=c;this.x=m;this.y=d;this.Ca=[];this.Pe=!0;this.Fc=new ca;this.qf=!1}function h(c,m){return c.lc-m.lc}N=function(c){window.console&&window.console.log&&window.console.log(c)};
ga=function(c){window.console&&window.console.error&&window.console.error(c)};ha=function(c){return"undefined"===typeof c};ja=function(c){return"number"===typeof c};P=function(c){return"string"===typeof c};la=function(c){return 0<c&&0===(c-1&c)};ma=function(c){--c;for(var m=1;32>m;m<<=1)c|=c>>m;return c+1};na=function(c){return 0>c?-c:c};pa=function(c,m){return c<m?c:m};qa=Math.PI;Q=function(c){return 0<=c?c|0:(c|0)-1};ta=function(c){var m=c|0;return m===c?m:m+1};ua=function(c,m,d,q,e,n,h,k){var a,
b,g,y;c<d?(b=c,a=d):(b=d,a=c);e<h?(y=e,g=h):(y=h,g=e);if(a<y||b>g)return!1;m<q?(b=m,a=q):(b=q,a=m);n<k?(y=n,g=k):(y=k,g=n);if(a<y||b>g)return!1;a=e-c+h-d;b=n-m+k-q;c=d-c;m=q-m;e=h-e;n=k-n;k=na(m*e-n*c);return na(e*b-n*a)>k?!1:na(c*b-m*a)<=k};p.prototype.set=function(c,m,d,q){this.left=c;this.top=m;this.right=d;this.bottom=q};p.prototype.Dg=function(c){this.left=c.left;this.top=c.top;this.right=c.right;this.bottom=c.bottom};p.prototype.width=function(){return this.right-this.left};p.prototype.height=
function(){return this.bottom-this.top};p.prototype.offset=function(c,m){this.left+=c;this.top+=m;this.right+=c;this.bottom+=m;return this};p.prototype.normalize=function(){var c=0;this.left>this.right&&(c=this.left,this.left=this.right,this.right=c);this.top>this.bottom&&(c=this.top,this.top=this.bottom,this.bottom=c)};p.prototype.Ib=function(c,m){return c>=this.left&&c<=this.right&&m>=this.top&&m<=this.bottom};p.prototype.Mg=function(c){return this.left===c.left&&this.top===c.top&&this.right===
c.right&&this.bottom===c.bottom};S=p;l.prototype.Mh=function(c){this.Eb=c.left;this.Fb=c.top;this.Kc=c.right;this.Lc=c.top;this.qc=c.right;this.rc=c.bottom;this.oc=c.left;this.pc=c.bottom};l.prototype.Um=function(c,m){if(0===m)this.Mh(c);else{var d=Math.sin(m),q=Math.cos(m),e=c.left*d,n=c.top*d,h=c.right*d,d=c.bottom*d,k=c.left*q,a=c.top*q,b=c.right*q,q=c.bottom*q;this.Eb=k-n;this.Fb=a+e;this.Kc=b-n;this.Lc=a+h;this.qc=b-d;this.rc=q+h;this.oc=k-d;this.pc=q+e}};l.prototype.offset=function(c,m){this.Eb+=
c;this.Fb+=m;this.Kc+=c;this.Lc+=m;this.qc+=c;this.rc+=m;this.oc+=c;this.pc+=m;return this};var u=0,A=0;l.prototype.Fk=function(c){a(this.Eb,this.Kc,this.qc,this.oc);c.left=u;c.right=A;a(this.Fb,this.Lc,this.rc,this.pc);c.top=u;c.bottom=A};l.prototype.Ib=function(c,m){var d=this.Kc-this.Eb,q=this.Lc-this.Fb,e=this.qc-this.Eb,n=this.rc-this.Fb,h=c-this.Eb,k=m-this.Fb,a=d*d+q*q,b=d*e+q*n,q=d*h+q*k,g=e*e+n*n,y=e*h+n*k,O=1/(a*g-b*b),d=(g*q-b*y)*O,a=(a*y-b*q)*O;if(0<=d&&0<a&&1>d+a)return!0;d=this.oc-this.Eb;
q=this.pc-this.Fb;a=d*d+q*q;b=d*e+q*n;q=d*h+q*k;O=1/(a*g-b*b);d=(g*q-b*y)*O;a=(a*y-b*q)*O;return 0<=d&&0<a&&1>d+a};va=l;wa=function(c,m){for(var d in m)m.hasOwnProperty(d)&&(c[d]=m[d]);return c};xa=function(c,m){var d,q;m=Q(m);if(!(0>m||m>=c.length)){d=m;for(q=c.length-1;d<q;d++)c[d]=c[d+1];c.length=q}};ya=function(c,m){c.length=m.length;var d,q;d=0;for(q=m.length;d<q;d++)c[d]=m[d]};za=function(c,m){c.push.apply(c,m)};Aa=function(c,m){var d,q;d=0;for(q=c.length;d<q;++d)if(c[d]===m)return d;return-1};
Ba=function(c,m){var d=Aa(c,m);-1!==d&&xa(c,d)};T=function(c){return c/(180/qa)};Da=function(c){return 180/qa*c};Ea=function(c){c%=360;0>c&&(c+=360);return c};Fa=function(c){c%=2*qa;0>c&&(c+=2*qa);return c};Ga=function(c){return Ea(Da(c))};La=function(c){return Fa(T(c))};Ma=function(c,m,d,q){return Math.atan2(q-m,d-c)};Na=function(c,m){if(c===m)return 0;var d=Math.sin(c),q=Math.cos(c),e=Math.sin(m),n=Math.cos(m),d=d*e+q*n;return 1<=d?0:-1>=d?qa:Math.acos(d)};Oa=function(c,m,d){var q=Math.sin(c),e=
Math.cos(c),n=Math.sin(m),h=Math.cos(m);return Math.acos(q*n+e*h)>d?0<e*n-q*h?Fa(c+d):Fa(c-d):Fa(m)};Pa=function(c,m){var d=Math.sin(c),q=Math.cos(c),e=Math.sin(m),n=Math.cos(m);return 0>=q*e-d*n};Qa=function(c,m,d,q,e,n){if(0===d)return n?c:m;var h=Math.sin(d);d=Math.cos(d);c-=q;m-=e;var a=c*h;c=c*d-m*h;m=m*d+a;return n?c+q:m+e};Ra=function(c,m,d,q){c=d-c;m=q-m;return Math.sqrt(c*c+m*m)};Sa=function(c,m){return!c!==!m};Ta=function(c){for(var m in c)if(c.hasOwnProperty(m))return!0;return!1};Ua=function(c){for(var m in c)c.hasOwnProperty(m)&&
delete c[m]};var c=+new Date;Va=function(){if("undefined"!==typeof window.performance){var m=window.performance;if("undefined"!==typeof m.now)return m.now();if("undefined"!==typeof m.webkitNow)return m.webkitNow();if("undefined"!==typeof m.mozNow)return m.mozNow();if("undefined"!==typeof m.msNow)return m.msNow()}return Date.now()-c};var m=!1,q=m=!1,O=!1;"undefined"!==typeof window&&(m=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),m=!m&&/safari/i.test(navigator.userAgent),
q=/(iphone|ipod|ipad)/i.test(navigator.userAgent),O=window.c2ejecta);var y=!m&&!O&&!q&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;f.prototype.contains=function(c){return this.Yc()?!1:y?this.hc.has(c):this.items&&this.items.hasOwnProperty(c)};f.prototype.add=function(c){if(y)this.hc.has(c)||(this.hc.add(c),this.td=!1);else{var m=c.toString(),d=this.items;d?d.hasOwnProperty(m)||(d[m]=c,this.Qe++,this.td=!1):(this.items={},this.items[m]=c,this.Qe=1,this.td=!1)}};f.prototype.remove=
function(c){if(!this.Yc())if(y)this.hc.has(c)&&(this.hc["delete"](c),this.td=!1);else if(this.items){c=c.toString();var m=this.items;m.hasOwnProperty(c)&&(delete m[c],this.Qe--,this.td=!1)}};f.prototype.clear=function(){this.Yc()||(y?this.hc.clear():(this.items=null,this.Qe=0),this.mf.length=0,this.td=!0)};f.prototype.Yc=function(){return 0===this.count()};f.prototype.count=function(){return y?this.hc.size:this.Qe};var F=null,Z=0;f.prototype.or=function(){if(!this.td){if(y)this.mf.length=this.hc.size,
F=this.mf,Z=0,this.hc.forEach(s),F=null,Z=0;else{var c=this.mf;c.length=this.Qe;var m,d=0,q=this.items;if(q)for(m in q)q.hasOwnProperty(m)&&(c[d++]=q[m])}this.td=!0}};f.prototype.Rd=function(){this.or();return this.mf};ca=f;new ca;Wa=function(c,m){y?Xa(c,m.hc):Ya(c,m.Rd())};Xa=function(c,m){var d,q,e,n;q=d=0;for(e=c.length;d<e;++d)n=c[d],m.has(n)||(c[q++]=n);c.length=q};Ya=function(c,m){var d,q,e,n;q=d=0;for(e=c.length;d<e;++d)n=c[d],-1===Aa(m,n)&&(c[q++]=n);c.length=q};n.prototype.add=function(c){this.y=
c-this.ki;this.Qh=this.R+this.y;this.ki=this.Qh-this.R-this.y;this.R=this.Qh};n.prototype.reset=function(){this.R=this.Qh=this.y=this.ki=0};Za=n;$a=function(c){return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};k.prototype.pg=function(c){this.Im=c;this.Eh=c.length/2;this.cf.length=c.length;this.li=this.mi=-1;this.Ik=0};k.prototype.hq=function(){return!this.Im.length};k.prototype.Ra=function(){for(var c=this.cf,m=c[0],d=m,q=c[1],e=q,n,h,a=1,k=this.Eh;a<k;++a)h=2*a,n=c[h],h=c[h+1],n<m&&(m=n),n>d&&
(d=n),h<q&&(q=h),h>e&&(e=h);this.Bk=m;this.Ck=d;this.Dk=q;this.Ak=e};k.prototype.Mh=function(c,m,d){this.cf.length=8;this.Eh=4;var q=this.cf;q[0]=c.left-m;q[1]=c.top-d;q[2]=c.right-m;q[3]=c.top-d;q[4]=c.right-m;q[5]=c.bottom-d;q[6]=c.left-m;q[7]=c.bottom-d;this.mi=c.right-c.left;this.li=c.bottom-c.top;this.Ra()};k.prototype.no=function(c,m,d){if(this.mi!==c||this.li!==m||this.Ik!==d){this.mi=c;this.li=m;this.Ik=d;var q,e,n,h,a,k=0,b=1,g=this.Im,y=this.cf;0!==d&&(k=Math.sin(d),b=Math.cos(d));d=0;for(n=
this.Eh;d<n;d++)q=2*d,e=q+1,h=g[q]*c,a=g[e]*m,y[q]=h*b-a*k,y[e]=a*b+h*k;this.Ra()}};k.prototype.Ib=function(c,m){var d=this.cf;if(c===d[0]&&m===d[1])return!0;var q,e,n,h=this.Eh,a=this.Bk-110,k=this.Dk-101,b=this.Ck+131,g=this.Ak+120,y,O,r=0,u=0;for(q=0;q<h;q++)e=2*q,n=(q+1)%h*2,y=d[e],e=d[e+1],O=d[n],n=d[n+1],ua(a,k,c,m,y,e,O,n)&&r++,ua(b,g,c,m,y,e,O,n)&&u++;return 1===r%2||1===u%2};ab=k;b.prototype.xd=function(c,m,d){var q;q=this.cells[c];return q?(q=q[m])?q:d?(q=g(this,c,m),this.cells[c][m]=q):
null:d?(q=g(this,c,m),this.cells[c]={},this.cells[c][m]=q):null};b.prototype.wb=function(c){return Q(c/this.pi)};b.prototype.xb=function(c){return Q(c/this.oi)};b.prototype.update=function(c,m,d){var q,e,n,h,a;if(m)for(q=m.left,e=m.right;q<=e;++q)for(n=m.top,h=m.bottom;n<=h;++n)if(!d||!d.Ib(q,n))if(a=this.xd(q,n,!1))a.remove(c),a.Yc()&&(a.Ca.clear(),1E3>ia.length&&ia.push(a),this.cells[q][n]=null);if(d)for(q=d.left,e=d.right;q<=e;++q)for(n=d.top,h=d.bottom;n<=h;++n)m&&m.Ib(q,n)||this.xd(q,n,!0).ej(c)};
b.prototype.Km=function(c,m){var d,q,e,n,h,a;d=this.wb(c.left);e=this.xb(c.top);q=this.wb(c.right);for(h=this.xb(c.bottom);d<=q;++d)for(n=e;n<=h;++n)(a=this.xd(d,n,!1))&&a.dump(m)};bb=b;v.prototype.xd=function(c,m,d){var q;q=this.cells[c];return q?(q=q[m])?q:d?(q=e(this,c,m),this.cells[c][m]=q):null:d?(q=e(this,c,m),this.cells[c]={},this.cells[c][m]=q):null};v.prototype.wb=function(c){return Q(c/this.pi)};v.prototype.xb=function(c){return Q(c/this.oi)};v.prototype.update=function(c,m,d){var q,e,n,
h,a;if(m)for(q=m.left,e=m.right;q<=e;++q)for(n=m.top,h=m.bottom;n<=h;++n)if(!d||!d.Ib(q,n))if(a=this.xd(q,n,!1))a.remove(c),a.Yc()&&(a.reset(),1E3>K.length&&K.push(a),this.cells[q][n]=null);if(d)for(q=d.left,e=d.right;q<=e;++q)for(n=d.top,h=d.bottom;n<=h;++n)m&&m.Ib(q,n)||this.xd(q,n,!0).ej(c)};v.prototype.Km=function(c,m,d,q,e){var n,h;c=this.wb(c);m=this.xb(m);d=this.wb(d);for(n=this.xb(q);c<=d;++c)for(q=m;q<=n;++q)(h=this.xd(c,q,!1))&&h.dump(e)};v.prototype.nq=function(c){var m,d,q,e,n;m=c.left;
q=c.top;d=c.right;for(e=c.bottom;m<=d;++m)for(c=q;c<=e;++c)if(n=this.xd(m,c,!1))n.Pe=!1};cb=v;var ia=[];d.prototype.Yc=function(){return this.Ca.Yc()};d.prototype.ej=function(c){this.Ca.add(c)};d.prototype.remove=function(c){this.Ca.remove(c)};d.prototype.dump=function(c){za(c,this.Ca.Rd())};ba=d;var K=[];r.prototype.Yc=function(){if(!this.Ca.length)return!0;if(this.Ca.length>this.Fc.count())return!1;this.Ii();return!0};r.prototype.ej=function(c){this.Fc.contains(c)?(this.Fc.remove(c),this.Fc.Yc()&&
(this.qf=!1)):this.Ca.length?(this.Ca[this.Ca.length-1].zc()>c.zc()&&(this.Pe=!1),this.Ca.push(c)):(this.Ca.push(c),this.Pe=!0)};r.prototype.remove=function(c){this.Fc.add(c);this.qf=!0;30<=this.Fc.count()&&this.Ii()};r.prototype.Ii=function(){this.qf&&(this.Fc.count()===this.Ca.length?this.reset():(Wa(this.Ca,this.Fc),this.Fc.clear(),this.qf=!1))};r.prototype.Oo=function(){this.Pe||(this.Ca.sort(h),this.Pe=!0)};r.prototype.reset=function(){this.Ca.length=0;this.Pe=!0;this.Fc.clear();this.qf=!1};
r.prototype.dump=function(c){this.Ii();this.Oo();this.Ca.length&&c.push(this.Ca)};da=r;var x="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");db=function(c){return 0>=c||11<=c?"source-over":x[c-1]};eb=function(c,m,d){if(d)switch(c.Qa=d.ONE,c.Pa=d.ONE_MINUS_SRC_ALPHA,m){case 1:c.Qa=d.ONE;c.Pa=d.ONE;break;case 3:c.Qa=d.ONE;c.Pa=d.ZERO;break;case 4:c.Qa=d.ONE_MINUS_DST_ALPHA;c.Pa=d.ONE;break;case 5:c.Qa=d.DST_ALPHA;c.Pa=d.ZERO;
break;case 6:c.Qa=d.ZERO;c.Pa=d.SRC_ALPHA;break;case 7:c.Qa=d.ONE_MINUS_DST_ALPHA;c.Pa=d.ZERO;break;case 8:c.Qa=d.ZERO;c.Pa=d.ONE_MINUS_SRC_ALPHA;break;case 9:c.Qa=d.DST_ALPHA;c.Pa=d.ONE_MINUS_SRC_ALPHA;break;case 10:c.Qa=d.ONE_MINUS_DST_ALPHA,c.Pa=d.SRC_ALPHA}};fb=function(c){return Math.round(1E6*c)/1E6};gb=function(c,m){return"string"!==typeof c||"string"!==typeof m||c.length!==m.length?!1:c===m?!0:c.toLowerCase()===m.toLowerCase()};hb=function(c){c=c.target;return!c||c===document||c===window||
document&&document.body&&c===document.body||gb(c.tagName,"canvas")?!0:!1}})();var Zb="undefined"!==typeof Float32Array?Float32Array:Array;function $b(p){var l=new Zb(3);p&&(l[0]=p[0],l[1]=p[1],l[2]=p[2]);return l}function ac(p){var l=new Zb(16);p&&(l[0]=p[0],l[1]=p[1],l[2]=p[2],l[3]=p[3],l[4]=p[4],l[5]=p[5],l[6]=p[6],l[7]=p[7],l[8]=p[8],l[9]=p[9],l[10]=p[10],l[11]=p[11],l[12]=p[12],l[13]=p[13],l[14]=p[14],l[15]=p[15]);return l}
function bc(p,l){l[0]=p[0];l[1]=p[1];l[2]=p[2];l[3]=p[3];l[4]=p[4];l[5]=p[5];l[6]=p[6];l[7]=p[7];l[8]=p[8];l[9]=p[9];l[10]=p[10];l[11]=p[11];l[12]=p[12];l[13]=p[13];l[14]=p[14];l[15]=p[15]}function cc(p,l){var a=l[0],f=l[1];l=l[2];p[0]*=a;p[1]*=a;p[2]*=a;p[3]*=a;p[4]*=f;p[5]*=f;p[6]*=f;p[7]*=f;p[8]*=l;p[9]*=l;p[10]*=l;p[11]*=l}
function dc(p,l,a,f){f||(f=ac());var s,n,k,b,v,g,d,e,r=p[0],h=p[1];p=p[2];n=a[0];k=a[1];s=a[2];a=l[1];g=l[2];r===l[0]&&h===a&&p===g?(p=f,p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1):(a=r-l[0],g=h-l[1],d=p-l[2],e=1/Math.sqrt(a*a+g*g+d*d),a*=e,g*=e,d*=e,l=k*d-s*g,s=s*a-n*d,n=n*g-k*a,(e=Math.sqrt(l*l+s*s+n*n))?(e=1/e,l*=e,s*=e,n*=e):n=s=l=0,k=g*n-d*s,b=d*l-a*n,v=a*s-g*l,(e=Math.sqrt(k*k+b*b+v*v))?(e=1/e,k*=e,b*=e,v*=e):v=b=k=0,
f[0]=l,f[1]=k,f[2]=a,f[3]=0,f[4]=s,f[5]=b,f[6]=g,f[7]=0,f[8]=n,f[9]=v,f[10]=d,f[11]=0,f[12]=-(l*r+s*h+n*p),f[13]=-(k*r+b*h+v*p),f[14]=-(a*r+g*h+d*p),f[15]=1)}
(function(){function p(n){this.me=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Jk=$b([0,0,100]);this.Ol=$b([0,0,0]);this.rn=$b([0,1,0]);this.ok=$b([1,1,1]);this.Vk=!0;this.vj=ac();this.Rb=ac();this.Fl=ac();this.vi=ac();this.g=n;this.ql()}function l(n,a,b){this.g=n;this.qg=a;this.name=b;this.Qb=n.getAttribLocation(a,"aPos");this.Dd=n.getAttribLocation(a,"aTex");this.Ml=n.getUniformLocation(a,"matP");this.th=n.getUniformLocation(a,"matMV");this.Te=
n.getUniformLocation(a,"opacity");this.Nl=n.getUniformLocation(a,"samplerFront");this.Zf=n.getUniformLocation(a,"samplerBack");this.te=n.getUniformLocation(a,"destStart");this.se=n.getUniformLocation(a,"destEnd");this.sj=n.getUniformLocation(a,"seconds");this.rj=n.getUniformLocation(a,"pixelWidth");this.qj=n.getUniformLocation(a,"pixelHeight");this.Yf=n.getUniformLocation(a,"layerScale");this.Xf=n.getUniformLocation(a,"layerAngle");this.ag=n.getUniformLocation(a,"viewOrigin");this.$f=n.getUniformLocation(a,
"scrollPos");this.Vp=!!(this.rj||this.qj||this.sj||this.Zf||this.te||this.se||this.Yf||this.Xf||this.ag||this.$f);this.Wl=this.Xl=-999;this.vh=1;this.Sl=this.Rl=0;this.Ul=this.Ql=this.Pl=1;this.Zl=this.Yl=this.am=this.$l=this.Tl=0;this.nj=[];this.Vl=ac();this.Te&&n.uniform1f(this.Te,1);this.Nl&&n.uniform1i(this.Nl,0);this.Zf&&n.uniform1i(this.Zf,1);this.te&&n.uniform2f(this.te,0,0);this.se&&n.uniform2f(this.se,1,1);this.Yf&&n.uniform1f(this.Yf,1);this.Xf&&n.uniform1f(this.Xf,0);this.ag&&n.uniform2f(this.ag,
0,0);this.$f&&n.uniform2f(this.$f,0,0);this.ie=!1}function a(n,a){this.type=n;this.q=a;this.g=a.g;this.Ac=this.Tb=this.tm=0;this.T=this.jc=null;this.Vm=[]}p.prototype.ql=function(){var n=this.g,a;this.Gl=1;this.pe=this.oe=null;this.Hg=1;n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT);n.enable(n.BLEND);n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA);n.disable(n.CULL_FACE);n.disable(n.DEPTH_TEST);this.Hl=n.ONE;this.El=n.ONE_MINUS_SRC_ALPHA;this.Hj=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,this.Hj);this.xg=
Array(4);this.tg=Array(4);for(a=0;4>a;a++)this.xg[a]=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.xg[a]),this.tg[a]=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.tg[a]);this.Qc=0;this.Yp=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.Yp);this.lk=new Float32Array(16E3);this.bk=new Float32Array(16E3);this.Dq=new Float32Array(32E3);for(var b=new Uint16Array(12E3),f=a=0;12E3>a;)b[a++]=f,b[a++]=f+1,b[a++]=f+2,b[a++]=f,b[a++]=f+2,b[a++]=f+3,f+=4;n.bufferData(n.ELEMENT_ARRAY_BUFFER,b,
n.STATIC_DRAW);this.Ij=this.Mc=0;this.xa=[];a=this.ti({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.xa.push(a);a=this.ti({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.xa.push(a);for(var g in ec)ec.hasOwnProperty(g)&&this.xa.push(this.ti(ec[g],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",g));n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,null);this.sd=[];this.Pc=0;this.nb=!1;this.Rk=this.Sf=-1;this.zf=null;this.mp=n.createFramebuffer();this.Mm=null;this.Pd=$b([0,0,0]);this.cm=n.getParameter(n.ALIASED_POINT_SIZE_RANGE)[1];2048<this.cm&&
(this.cm=2048);this.Ic(0)};l.prototype.gk=function(n){var a=this.Vl;if(a[0]!==n[0]||a[1]!==n[1]||a[2]!==n[2]||a[3]!==n[3]||a[4]!==n[4]||a[5]!==n[5]||a[6]!==n[6]||a[7]!==n[7]||a[8]!==n[8]||a[9]!==n[9]||a[10]!==n[10]||a[11]!==n[11]||a[12]!==n[12]||a[13]!==n[13]||a[14]!==n[14]||a[15]!==n[15])bc(n,this.Vl),this.g.uniformMatrix4fv(this.th,!1,n)};p.prototype.ti=function(n,a,b){var f=this.g,g=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(g,n.src);f.compileShader(g);if(!f.getShaderParameter(g,f.COMPILE_STATUS))return f.deleteShader(g),
null;var d=f.createShader(f.VERTEX_SHADER);f.shaderSource(d,a);f.compileShader(d);if(!f.getShaderParameter(d,f.COMPILE_STATUS))return f.deleteShader(g),f.deleteShader(d),null;a=f.createProgram();f.attachShader(a,g);f.attachShader(a,d);f.linkProgram(a);if(!f.getProgramParameter(a,f.LINK_STATUS))return f.deleteShader(g),f.deleteShader(d),f.deleteProgram(a),null;f.useProgram(a);f.deleteShader(g);f.deleteShader(d);b=new l(f,a,b);b.Ei=n.Ei||0;b.Fi=n.Fi||0;b.Qk=!!n.Qk;b.wk=!!n.wk;b.C=n.C||[];n=0;for(g=
b.C.length;n<g;n++)b.C[n][1]=f.getUniformLocation(a,b.C[n][0]),b.nj.push(0),f.uniform1f(b.C[n][1],0);return b};p.prototype.Ti=function(n){var a,b;a=0;for(b=this.xa.length;a<b;a++)if(this.xa[a].name===n)return a;return-1};p.prototype.Hm=function(a,k,b){var f=this.Rb,g=this.vj,d=[0,0,0,0,0,0,0,0];d[0]=f[0]*a+f[4]*k+f[12];d[1]=f[1]*a+f[5]*k+f[13];d[2]=f[2]*a+f[6]*k+f[14];d[3]=f[3]*a+f[7]*k+f[15];d[4]=g[0]*d[0]+g[4]*d[1]+g[8]*d[2]+g[12]*d[3];d[5]=g[1]*d[0]+g[5]*d[1]+g[9]*d[2]+g[13]*d[3];d[6]=g[2]*d[0]+
g[6]*d[1]+g[10]*d[2]+g[14]*d[3];d[7]=-d[2];0!==d[7]&&(d[7]=1/d[7],d[4]*=d[7],d[5]*=d[7],d[6]*=d[7],b[0]=(.5*d[4]+.5)*this.width,b[1]=(.5*d[5]+.5)*this.height)};p.prototype.ff=function(a,k,b){if(this.width!==a||this.height!==k||b){this.ee();this.width=a;this.height=k;this.g.viewport(0,0,a,k);k=a/k;var f=this.vj,g;g=1*Math.tan(45*Math.PI/360);k*=g;a=-k;b=-g;f||(f=ac());var d=k-a,e=g-b;f[0]=2/d;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/e;f[6]=0;f[7]=0;f[8]=(k+a)/d;f[9]=(g+b)/e;f[10]=-1001/999;f[11]=-1;f[12]=
0;f[13]=0;f[14]=-2E3/999;f[15]=0;dc(this.Jk,this.Ol,this.rn,this.Rb);a=[0,0];k=[0,0];this.Hm(0,0,a);this.Hm(1,1,k);this.ok[0]=1/(k[0]-a[0]);this.ok[1]=-1/(k[1]-a[1]);a=0;for(k=this.xa.length;a<k;a++)b=this.xa[a],b.ie=!1,b.Ml&&(this.g.useProgram(b.qg),this.g.uniformMatrix4fv(b.Ml,!1,this.vj));this.g.useProgram(this.xa[this.Sf].qg);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE1);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE0);this.pe=
this.oe=null}};p.prototype.Jd=function(){dc(this.Jk,this.Ol,this.rn,this.Rb);cc(this.Rb,this.ok)};p.prototype.translate=function(a,k){if(0!==a||0!==k){this.Pd[0]=a;this.Pd[1]=k;this.Pd[2]=0;var b=this.Rb,f=this.Pd,g=f[0],d=f[1],f=f[2];b[12]=b[0]*g+b[4]*d+b[8]*f+b[12];b[13]=b[1]*g+b[5]*d+b[9]*f+b[13];b[14]=b[2]*g+b[6]*d+b[10]*f+b[14];b[15]=b[3]*g+b[7]*d+b[11]*f+b[15]}};p.prototype.scale=function(a,k){if(1!==a||1!==k)this.Pd[0]=a,this.Pd[1]=k,this.Pd[2]=1,cc(this.Rb,this.Pd)};p.prototype.Nm=function(a){if(0!==
a){var k=this.Rb,b,f=Math.sin(a);a=Math.cos(a);var g=k[0],d=k[1],e=k[2],r=k[3],h=k[4],u=k[5],A=k[6],c=k[7];b?k!==b&&(b[8]=k[8],b[9]=k[9],b[10]=k[10],b[11]=k[11],b[12]=k[12],b[13]=k[13],b[14]=k[14],b[15]=k[15]):b=k;b[0]=g*a+h*f;b[1]=d*a+u*f;b[2]=e*a+A*f;b[3]=r*a+c*f;b[4]=g*-f+h*a;b[5]=d*-f+u*a;b[6]=e*-f+A*a;b[7]=r*-f+c*a}};p.prototype.Qd=function(){for(var a=!1,k=0;16>k;k++)if(this.Fl[k]!==this.Rb[k]){a=!0;break}a&&(a=this.gc(),a.type=5,a.T?bc(this.Rb,a.T):a.T=ac(this.Rb),bc(this.Rb,this.Fl),this.nb=
!1)};a.prototype.Eo=function(){this.g.bindTexture(this.g.TEXTURE_2D,this.jc)};a.prototype.Fo=function(){var a=this.g;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.jc);a.activeTexture(a.TEXTURE0)};a.prototype.Bo=function(){var a=this.tm,k=this.q;k.Hg=a;k=k.zf;k.Te&&k.vh!==a&&(k.vh=a,this.g.uniform1f(k.Te,a))};a.prototype.yo=function(){this.g.drawElements(this.g.TRIANGLES,this.Ac,this.g.UNSIGNED_SHORT,2*this.Tb)};a.prototype.Ao=function(){this.g.blendFunc(this.Tb,this.Ac)};a.prototype.Go=
function(){var a,k,b,f=this.q.xa,g=this.q.Rk;a=0;for(k=f.length;a<k;a++)b=f[a],a===g&&b.th?(b.gk(this.T),b.ie=!0):b.ie=!1;bc(this.T,this.q.vi)};a.prototype.zo=function(){var a=this.g,k=this.q;this.jc?(k.pe===this.jc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),k.pe=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,k.mp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.jc,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};a.prototype.wo=function(){var a=this.g;0===this.Tb?(a.clearColor(this.T[0],this.T[1],this.T[2],this.T[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.T[0],this.T[1],this.T[2],this.T[3]),a.clearColor(0,0,0,0),a.clear(this.g.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};a.prototype.xo=function(){var a=this.g,k=this.q,b=k.xa[1];a.useProgram(b.qg);!b.ie&&b.th&&(b.gk(k.vi),b.ie=!0);a.enableVertexAttribArray(b.Qb);a.bindBuffer(a.ARRAY_BUFFER,
k.Hj);a.vertexAttribPointer(b.Qb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Tb/4,this.Ac);b=k.zf;a.useProgram(b.qg);0<=b.Qb&&(a.enableVertexAttribArray(b.Qb),a.bindBuffer(a.ARRAY_BUFFER,k.xg[k.Qc]),a.vertexAttribPointer(b.Qb,2,a.FLOAT,!1,0,0));0<=b.Dd&&(a.enableVertexAttribArray(b.Dd),a.bindBuffer(a.ARRAY_BUFFER,k.tg[k.Qc]),a.vertexAttribPointer(b.Dd,2,a.FLOAT,!1,0,0))};a.prototype.Co=function(){var a=this.g,k=this.q,b=k.xa[this.Tb];k.Rk=this.Tb;k.zf=b;a.useProgram(b.qg);!b.ie&&b.th&&(b.gk(k.vi),
b.ie=!0);b.Te&&b.vh!==k.Hg&&(b.vh=k.Hg,a.uniform1f(b.Te,k.Hg));0<=b.Qb&&(a.enableVertexAttribArray(b.Qb),a.bindBuffer(a.ARRAY_BUFFER,k.xg[k.Qc]),a.vertexAttribPointer(b.Qb,2,a.FLOAT,!1,0,0));0<=b.Dd&&(a.enableVertexAttribArray(b.Dd),a.bindBuffer(a.ARRAY_BUFFER,k.tg[k.Qc]),a.vertexAttribPointer(b.Dd,2,a.FLOAT,!1,0,0))};a.prototype.Do=function(){var a,k,b=this.q.zf,f=this.g;a=this.T;b.Zf&&this.q.pe!==this.jc&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this.jc),this.q.pe=this.jc,f.activeTexture(f.TEXTURE0));
var g=a[0];b.rj&&g!==b.Xl&&(b.Xl=g,f.uniform1f(b.rj,g));g=a[1];b.qj&&g!==b.Wl&&(b.Wl=g,f.uniform1f(b.qj,g));g=a[2];k=a[3];!b.te||g===b.Rl&&k===b.Sl||(b.Rl=g,b.Sl=k,f.uniform2f(b.te,g,k));g=a[4];k=a[5];!b.se||g===b.Pl&&k===b.Ql||(b.Pl=g,b.Ql=g,f.uniform2f(b.se,g,k));g=a[6];b.Yf&&g!==b.Ul&&(b.Ul=g,f.uniform1f(b.Yf,g));g=a[7];b.Xf&&g!==b.Tl&&(b.Tl=g,f.uniform1f(b.Xf,g));g=a[8];k=a[9];!b.ag||g===b.$l&&k===b.am||(b.$l=g,b.am=k,f.uniform2f(b.ag,g,k));g=a[10];k=a[11];!b.$f||g===b.Yl&&k===b.Zl||(b.Yl=g,b.Zl=
k,f.uniform2f(b.$f,g,k));b.sj&&f.uniform1f(b.sj,Va()/1E3);if(b.C.length)for(a=0,k=b.C.length;a<k;a++)g=this.Vm[a],g!==b.nj[a]&&(b.nj[a]=g,f.uniform1f(b.C[a][1],g))};p.prototype.gc=function(){this.Pc===this.sd.length&&this.sd.push(new a(0,this));return this.sd[this.Pc++]};p.prototype.ee=function(){if(0!==this.Pc&&!this.g.isContextLost()){var a=this.g;0<this.Ij&&(a.bindBuffer(a.ARRAY_BUFFER,this.Hj),a.bufferData(a.ARRAY_BUFFER,this.Dq.subarray(0,this.Ij),a.STREAM_DRAW),k&&0<=k.Qb&&"<point>"===k.name&&
a.vertexAttribPointer(k.Qb,4,a.FLOAT,!1,0,0));if(0<this.Mc){var k=this.zf;a.bindBuffer(a.ARRAY_BUFFER,this.xg[this.Qc]);a.bufferData(a.ARRAY_BUFFER,this.lk.subarray(0,this.Mc),a.STREAM_DRAW);k&&0<=k.Qb&&"<point>"!==k.name&&a.vertexAttribPointer(k.Qb,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.tg[this.Qc]);a.bufferData(a.ARRAY_BUFFER,this.bk.subarray(0,this.Mc),a.STREAM_DRAW);k&&0<=k.Dd&&"<point>"!==k.name&&a.vertexAttribPointer(k.Dd,2,a.FLOAT,!1,0,0)}for(var b,a=0,k=this.Pc;a<k;a++)switch(b=
this.sd[a],b.type){case 1:b.yo();break;case 2:b.Eo();break;case 3:b.Bo();break;case 4:b.Ao();break;case 5:b.Go();break;case 6:b.zo();break;case 7:b.wo();break;case 8:b.xo();break;case 9:b.Co();break;case 10:b.Do();break;case 11:b.Fo()}this.Ij=this.Mc=this.Pc=0;this.nb=!1;this.Qc++;4<=this.Qc&&(this.Qc=0)}};p.prototype.mg=function(a){if(a!==this.Gl){var k=this.gc();k.type=3;this.Gl=k.tm=a;this.nb=!1}};p.prototype.Sb=function(a){if(a!==this.oe){var k=this.gc();k.type=2;this.oe=k.jc=a;this.nb=!1}};p.prototype.Kd=
function(a,k){if(a!==this.Hl||k!==this.El){var b=this.gc();b.type=4;b.Tb=a;b.Ac=k;this.Hl=a;this.El=k;this.nb=!1}};p.prototype.Rm=function(){this.Kd(this.g.ONE,this.g.ONE_MINUS_SRC_ALPHA)};p.prototype.Fh=function(a,k,b,f,g,d,e,r){15992<=this.Mc&&this.ee();var h=this.Mc,u=this.lk,A=this.bk;if(this.nb)this.sd[this.Pc-1].Ac+=6;else{var c=this.gc();c.type=1;c.Tb=h/4*3;c.Ac=6;this.nb=!0}u[h]=a;A[h++]=0;u[h]=k;A[h++]=0;u[h]=b;A[h++]=1;u[h]=f;A[h++]=0;u[h]=g;A[h++]=1;u[h]=d;A[h++]=1;u[h]=e;A[h++]=0;u[h]=
r;A[h++]=1;this.Mc=h};p.prototype.we=function(a,k,b,f,g,d,e,r,h){15992<=this.Mc&&this.ee();var u=this.Mc,A=this.lk,c=this.bk;if(this.nb)this.sd[this.Pc-1].Ac+=6;else{var m=this.gc();m.type=1;m.Tb=u/4*3;m.Ac=6;this.nb=!0}var m=h.left,q=h.top,O=h.right;h=h.bottom;A[u]=a;c[u++]=m;A[u]=k;c[u++]=q;A[u]=b;c[u++]=O;A[u]=f;c[u++]=q;A[u]=g;c[u++]=O;A[u]=d;c[u++]=h;A[u]=e;c[u++]=m;A[u]=r;c[u++]=h;this.Mc=u};p.prototype.Ic=function(a){if(this.Sf!==a){if(!this.xa[a]){if(0===this.Sf)return;a=0}var k=this.gc();
k.type=9;this.Sf=k.Tb=a;this.nb=!1}};p.prototype.hg=function(a){a=this.xa[a];return!(!a.te&&!a.se)};p.prototype.Jj=function(a){a=this.xa[a];return!!(a.te||a.se||a.Qk)};p.prototype.Kq=function(a){a=this.xa[a];return 0!==a.Ei||0!==a.Fi};p.prototype.Bp=function(a){return this.xa[a].Ei};p.prototype.Cp=function(a){return this.xa[a].Fi};p.prototype.Dp=function(a,k){return this.xa[a].C[k][2]};p.prototype.Dh=function(a){return this.xa[a].wk};p.prototype.ef=function(a,k,b,f,g,d,e,r,h,u,A,c,m,q){var O=this.xa[this.Sf],
y,F;if(O.Vp||q.length){y=this.gc();y.type=10;y.T?bc(this.Rb,y.T):y.T=ac();F=y.T;F[0]=k;F[1]=b;F[2]=f;F[3]=g;F[4]=d;F[5]=e;F[6]=r;F[7]=h;F[8]=u;F[9]=A;F[10]=c;F[11]=m;y.jc=O.Zf?a:null;if(q.length)for(b=y.Vm,b.length=q.length,a=0,k=q.length;a<k;a++)b[a]=q[a];this.nb=!1}};p.prototype.clear=function(a,k,b,f){var g=this.gc();g.type=7;g.Tb=0;g.T||(g.T=ac());g.T[0]=a;g.T[1]=k;g.T[2]=b;g.T[3]=f;this.nb=!1};p.prototype.clearRect=function(a,k,b,f){if(!(0>b||0>f)){var g=this.gc();g.type=7;g.Tb=1;g.T||(g.T=ac());
g.T[0]=a;g.T[1]=k;g.T[2]=b;g.T[3]=f;this.nb=!1}};p.prototype.Jq=function(){this.ee();this.g.flush()};var f=[],s={};p.prototype.po=function(){f.length=0;s={}};p.prototype.Ll=function(a,k,b){var p;p=!1;k=!!k;var g=a.src+","+p+","+k+(p?",undefined":""),d=null;if("undefined"!==typeof a.src&&s.hasOwnProperty(g))return d=s[g],d.zg++,d;this.ee();var e=this.g,r=la(a.width)&&la(a.height),d=e.createTexture();e.bindTexture(e.TEXTURE_2D,d);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var h=e.RGBA,u=e.RGBA,
A=e.UNSIGNED_BYTE;if(b&&!this.me)switch(b){case 1:u=h=e.RGB;break;case 2:A=e.UNSIGNED_SHORT_4_4_4_4;break;case 3:A=e.UNSIGNED_SHORT_5_5_5_1;break;case 4:u=h=e.RGB,A=e.UNSIGNED_SHORT_5_6_5}if(!r&&p){b=document.createElement("canvas");b.width=ma(a.width);b.height=ma(a.height);var c=b.getContext("2d");c.webkitImageSmoothingEnabled=k;c.mozImageSmoothingEnabled=k;c.msImageSmoothingEnabled=k;c.imageSmoothingEnabled=k;c.drawImage(a,0,0,a.width,a.height,0,0,b.width,b.height);e.texImage2D(e.TEXTURE_2D,0,h,
u,A,b)}else e.texImage2D(e.TEXTURE_2D,0,h,u,A,a);p?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));k?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),r&&this.Vk?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MIN_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST));e.bindTexture(e.TEXTURE_2D,null);this.oe=null;d.uf=a.width;d.tf=a.height;d.zg=1;d.Hk=g;f.push(d);return s[g]=d};p.prototype.vd=function(a,k,b){var p;this.ee();var g=this.g;this.me&&(p=!1);var d=g.createTexture();g.bindTexture(g.TEXTURE_2D,d);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,a,k,0,g.RGBA,p?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,null);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,b?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,b?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.oe=null;d.uf=a;d.tf=k;f.push(d);return d};p.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.zg&&1<a.zg?a.zg--:(this.ee(),a===this.oe&&(this.g.bindTexture(this.g.TEXTURE_2D,null),this.oe=null),a===this.pe&&(this.g.activeTexture(this.g.TEXTURE1),
this.g.bindTexture(this.g.TEXTURE_2D,null),this.g.activeTexture(this.g.TEXTURE0),this.pe=null),Ba(f,a),"undefined"!==typeof a.Hk&&delete s[a.Hk],this.g.deleteTexture(a)))};p.prototype.Hc=function(a){if(a!==this.Mm){var k=this.gc();k.type=6;this.Mm=k.jc=a;this.nb=!1}};ib=p})();
(function(){function p(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function l(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function a(c){if(c&&(c.getContext||c.dc)&&!c.c2runtime){c.c2runtime=this;var m=this;this.zd=(this.Lf=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.$a=!!c.dc;this.wl="undefined"!==typeof window.AppMobi||this.$a;this.Zb=!!window.c2cocoonjs;this.$b=!!window.c2ejecta;this.Zb&&(CocoonJS.App.onSuspended.addEventListener(function(){m.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){m.setSuspended(!1)}));this.$b&&(document.addEventListener("pagehide",function(){m.setSuspended(!0)}),document.addEventListener("pageshow",
function(){m.setSuspended(!1)}),document.addEventListener("resize",function(){m.setSize(window.innerWidth,window.innerHeight)}));this.za=this.$a||this.Zb||this.$b;this.me=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.zl=/tizen/i.test(navigator.userAgent);this.bh=/android/i.test(navigator.userAgent)&&!this.zl&&!this.me;this.mj=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.me;this.Dl=/ipad/i.test(navigator.userAgent);this.hh=this.mj||this.Dl||this.$b;this.iq=this.mj&&/os\s6/i.test(navigator.userAgent);this.Kf=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.me;this.ul=/amazonwebappplatform/i.test(navigator.userAgent);this.bq=/firefox/i.test(navigator.userAgent);this.yl=/safari/i.test(navigator.userAgent)&&!this.Kf&&!this.me;this.fq=/windows/i.test(navigator.userAgent);this.Bd="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);
this.Bl=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.gq=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Me=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.kj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Al=this.Bl||this.gq||this.kj;this.$p=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.dh=this.bh&&!this.Kf&&!this.Lf&&!this.bq&&!this.ul&&
!this.za;this.devicePixelRatio=1;this.Ad=this.zd||this.Lf||this.wl||this.Zb||this.bh||this.hh||this.Me||this.kj||this.$p||this.zl||this.$b;this.Ad||(this.Ad=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Bd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Bd=!0);this.aq="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=
c;this.Kk=document.getElementById("c2canvasdiv");this.V=this.q=this.g=null;this.Li="";this.Rg=!1;this.om=this.pm=0;this.canvas.oncontextmenu=function(c){c.preventDefault&&c.preventDefault();return!1};this.canvas.onselectstart=function(c){c.preventDefault&&c.preventDefault();return!1};this.$a&&(window.c2runtime=this);this.Bd&&(window.ondragover=function(c){c.preventDefault();return!1},window.ondrop=function(c){c.preventDefault();return!1},require("nw.gui").App.clearCache());this.dh&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=c.width;this.height=c.height;this.H=this.width;this.G=this.height;this.Fg=this.width;this.Eg=this.height;this.Uf=window.innerWidth;this.Tf=window.innerHeight;this.op=!1;this.Z=!0;this.Nf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.ka=[];this.pj={};this.ec=[];this.Di={};this.Tc=[];this.of=[];this.Xh=[];this.fo=[];this.ho=[];this.$d={};this.hj=this.yd=!1;this.Zc=0;this.jj=
!1;this.tc=[];this.$c=this.Ua=this.oh=this.Wj="";this.rg=this.Ym=!1;this.si=this.bg=this.Sc=this.de=0;this.jf=1;this.qb=new Za;this.Nc=new Za;this.lh=0;this.dm=!0;this.xh=this.Sg=this.Og=this.ug=this.re=this.Ki=0;this.vf=null;this.Ai=[];this.Ci=[];this.Ng=-1;this.tj=[[]];this.ek=this.uh=0;this.Lj(null);this.Cf=this.im=this.eg=0;this.sg=[];this.Uh=this.Gh=-1;this.Rf=!0;this.sh=0;this.Mf=!1;this.dr=0;this.Ee=null;this.Tp=!1;this.oj=0;this.Bc=this.Xi=this.Mj=!1;this.mm=new ca;this.Aj=new ca;this.nm=
new ca;this.Nq=[];new ab([]);new ab([]);this.De=[];this.Zg={};this.Fe={};this.Ce={};this.nf={};this.Ek={};this.Kl=this.nh=this.rb=this.Cb=this.Jl=this.mh=this.aa=null;this.lf=this.lj=!1;this.Mi=[null,null];this.ge=0;this.Hi="";this.Gd={};this.Oh=this.Se=null;this.wh=[];this.Oq()}}function f(c){c.target.result.createObjectStore("saves",{keyPath:"slot"})}function s(c,m,d,a){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=f;e.onerror=a;e.onsuccess=function(e){e=e.target.result;e.onerror=a;e.transaction(["saves"],
"readwrite").objectStore("saves").put({slot:c,data:m}).onsuccess=d}}function n(c,m,d){var a=indexedDB.open("_C2SaveStates");a.onupgradeneeded=f;a.onerror=d;a.onsuccess=function(a){a=a.target.result;a.onerror=d;var e=a.transaction(["saves"]).objectStore("saves").get(c);e.onsuccess=function(){e.result?m(e.result.data):m(null)}}}function k(){N("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+=
"?continuous"}function b(c){var m,d={};for(m in c)!c.hasOwnProperty(m)||c[m]instanceof ca||c[m]&&"undefined"!==typeof c[m].Es||(d[m]=c[m]);return d}a.prototype.Oq=function(){var c=this,m;m=this.Me?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var d="data.js";if(this.Bl||this.Me||this.kj)d="data.json";m.open("GET",d,!0);var a=!1;if(!this.za&&"response"in m&&"responseType"in m)try{m.responseType="json",a="json"===m.responseType}catch(e){a=!1}if(!a&&"responseType"in m)try{m.responseType=
"text"}catch(h){}if("overrideMimeType"in m)try{m.overrideMimeType("application/json; charset=utf-8")}catch(b){}this.Me?m.onreadystatechange=function(){4===m.readyState&&c.qh(JSON.parse(m.responseText))}:(m.onload=function(){if(a)c.qh(m.response);else if(c.$b){var d=m.responseText,d=d.substr(d.indexOf("{"));c.qh(JSON.parse(d))}else c.qh(JSON.parse(m.responseText))},m.onerror=function(c){ga("Error requesting "+d+":");ga(c)});m.send()};a.prototype.Zp=function(){var c=this,m,d,a,e,h,b,k,g,f;this.devicePixelRatio=
(this.Le=(!this.za||this.$b)&&this.qr&&!this.dh)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Na();d=!(!this.op&&(!this.ei||this.Bd||this.Al||this.Me||this.Lf||this.zd||this.ul));0<this.mb&&this.setSize(p(),l(),!0);try{this.Mo&&(this.Zb||this.$b||!this.za)&&(m={alpha:d,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.g=this.canvas.getContext("webgl",m)||this.canvas.getContext("experimental-webgl",m))}catch(r){}if(this.g){this.za||
(this.Ka=document.createElement("canvas"),jQuery(this.Ka).appendTo(this.canvas.parentNode),this.Ka.oncontextmenu=function(){return!1},this.Ka.onselectstart=function(){return!1},this.Ka.width=this.Fg,this.Ka.height=this.Eg,jQuery(this.Ka).css({width:this.Fg+"px",height:this.Eg+"px"}),this.Fm(),this.Gj=this.Ka.getContext("2d"));this.q=new ib(this.g,this.Ad);this.q.ff(this.canvas.width,this.canvas.height);this.q.Vk=0!==this.Ho;this.V=null;this.canvas.addEventListener("webglcontextlost",function(m){m.preventDefault();
c.rq();N("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){c.q.ql();c.q.ff(c.q.width,c.q.height,!0);c.Cb=null;c.rb=null;c.Mi[0]=null;c.Mi[1]=null;c.sq();c.Z=!0;N("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);m=0;for(d=this.i.length;m<d;m++)for(h=this.i[m],a=0,e=h.B.length;a<e;a++)k=h.B[a],k.Ma=this.q.Ti(k.id),this.lf=this.lf||this.q.hg(k.Ma);m=0;for(d=this.ec.length;m<d;m++){g=this.ec[m];a=0;
for(e=g.B.length;a<e;a++)k=g.B[a],k.Ma=this.q.Ti(k.id);a=0;for(e=g.F.length;a<e;a++)for(f=g.F[a],h=0,b=f.B.length;h<b;h++)k=f.B[h],k.Ma=this.q.Ti(k.id),this.lf=this.lf||this.q.hg(k.Ma)}}else{if(0<this.mb&&this.$a){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.V=AppMobi.canvas.getContext("2d");try{this.V.samplingMode=this.U?"smooth":"sharp",this.V.globalScale=1,this.V.HTML5CompatibilityMode=!0,this.V.imageSmoothingEnabled=this.U}catch(u){}0!==
this.width&&0!==this.height&&(this.V.width=this.width,this.V.height=this.height)}this.V||(m=this.Zb?{antialias:!!this.U,alpha:d}:{alpha:d},this.V=this.canvas.getContext("2d",m),this.V.webkitImageSmoothingEnabled=this.U,this.V.mozImageSmoothingEnabled=this.U,this.V.msImageSmoothingEnabled=this.U,this.V.imageSmoothingEnabled=this.U);this.Gj=this.Ka=null}this.Sh=function(){c.fb(!1)};window==window.top||this.za||this.Al||this.Me||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",
function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Zb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(N("Reloading for continuous preview"),this.oh="__c2_continuouspreview",this.rg=!0),this.Bq&&!this.Ad&&(jQuery(window).focus(function(){c.setSuspended(!1)}),jQuery(window).blur(function(){c.setSuspended(!0)})));this.za||(m=function(c){if(hb(c)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur)try{document.activeElement.blur()}catch(m){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",m):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",m):document.addEventListener("touchstart",m),document.addEventListener("mousedown",m));0===this.mb&&this.Le&&1<this.devicePixelRatio&&this.setSize(this.ua,this.ta,!0);this.mn();this.Rp();this.go();this.P={}};a.prototype.setSize=function(c,m,d){var a=0,e=0,h=0,b=0,b=0,k=this.iq&&
this.yl&&!navigator.standalone&&!this.za&&!this.zd;k&&(m+=60);if(this.Uf!==c||this.Tf!==m||d){this.Uf=c;this.Tf=m;var g=this.mb,f=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Mf)&&!this.zd;if(f||0!==this.mb||d)f&&0<this.ge&&(g=this.ge),d=this.devicePixelRatio,4<=g?(h=this.ua/this.ta,c/m>h?(h*=m,5===g?(b=h*d/this.ua,1<b?b=Math.floor(b):1>b&&(b=1/Math.ceil(1/b)),h=this.ua*b/d,b=this.ta*b/d,a=(c-h)/2,e=(m-b)/2,c=h,m=b):(a=(c-h)/2,c=h)):
(b=c/h,5===g?(b=b*d/this.ta,1<b?b=Math.floor(b):1>b&&(b=1/Math.ceil(1/b)),h=this.ua*b/d,b=this.ta*b/d,a=(c-h)/2,e=(m-b)/2,c=h):e=(m-b)/2,m=b),f&&!this.Bd&&(e=a=0)):this.Bd&&this.Mf&&0===this.bl&&(a=Math.floor((c-this.ua)/2),e=Math.floor((m-this.ta)/2),c=this.ua,m=this.ta),2>g&&(this.sf=d),this.Le&&this.Dl&&1<d&&(1024<=c&&(c=1023),1024<=m&&(m=1023)),this.Fg=Math.round(c),this.Eg=Math.round(m),this.width=Math.round(c*d),this.height=Math.round(m*d),this.Z=!0,this.xn?(this.H=this.width,this.G=this.height,
this.Nb=!0):this.width<this.ua&&this.height<this.ta||1===g?(this.H=this.width,this.G=this.height,this.Nb=!0):(this.H=this.ua,this.G=this.ta,this.Nb=!1,2===g?(h=this.ua/this.ta,g=this.Uf/this.Tf,g<h?this.H=this.G*g:g>h&&(this.G=this.H/g)):3===g&&(h=this.ua/this.ta,g=this.Uf/this.Tf,g>h?this.H=this.G*g:g<h&&(this.G=this.H/g))),this.Kk&&!this.za&&(jQuery(this.Kk).css({width:Math.round(c)+"px",height:Math.round(m)+"px","margin-left":Math.floor(a)+"px","margin-top":Math.floor(e)+"px"}),"undefined"!==typeof cr_is_preview&&
jQuery("#borderwrap").css({width:Math.round(c)+"px",height:Math.round(m)+"px"})),this.canvas&&(this.canvas.width=Math.round(c*d),this.canvas.height=Math.round(m*d),this.$b?(this.canvas.style.left=Math.floor(a)+"px",this.canvas.style.top=Math.floor(e)+"px",this.canvas.style.width=Math.round(c)+"px",this.canvas.style.height=Math.round(m)+"px"):this.Le&&!this.za&&jQuery(this.canvas).css({width:Math.round(c)+"px",height:Math.round(m)+"px"})),this.Ka&&(this.Ka.width=Math.round(c),this.Ka.height=Math.round(m),
jQuery(this.Ka).css({width:Math.round(c)+"px",height:Math.round(m)+"px"})),this.q&&this.q.ff(Math.round(c*d),Math.round(m*d)),this.$a&&this.V&&(this.V.width=Math.round(c),this.V.height=Math.round(m)),this.V&&(this.V.webkitImageSmoothingEnabled=this.U,this.V.mozImageSmoothingEnabled=this.U,this.V.msImageSmoothingEnabled=this.U,this.V.imageSmoothingEnabled=this.U),this.mn(),this.za||!k&&!this.mj||window.setTimeout(function(){window.scrollTo(0,1)},100)}};a.prototype.mn=function(){if(this.jo&&0!==this.Ej){var c=
"portrait";2===this.Ej&&(c="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(c):screen.lockOrientation?screen.lockOrientation(c):screen.webkitLockOrientation?screen.webkitLockOrientation(c):screen.mozLockOrientation?screen.mozLockOrientation(c):screen.msLockOrientation&&screen.msLockOrientation(c)}};a.prototype.rq=function(){this.q.po();this.lj=!0;var c,m,d;c=0;for(m=this.i.length;c<m;c++)d=this.i[c],d.qm&&d.qm()};a.prototype.sq=function(){this.lj=!1;var c,m,d;c=0;for(m=
this.i.length;c<m;c++)d=this.i[c],d.rm&&d.rm()};a.prototype.Fm=function(){if(!this.za){var c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Mf)&&!this.zd?jQuery(this.canvas).offset():jQuery(this.canvas).position();c.position="absolute";jQuery(this.Ka).css(c)}};var v=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=
function(c){var m;if(c&&!this.Nf)for(N("[Construct 2] Suspending"),this.Nf=!0,-1!==this.Gh&&v&&v(this.Gh),-1!==this.Uh&&clearTimeout(this.Uh),c=0,m=this.sg.length;c<m;c++)this.sg[c](!0);else if(!c&&this.Nf){N("[Construct 2] Resuming");this.Nf=!1;this.lh=Va();this.re=Va();c=this.bg=this.Sg=0;for(m=this.sg.length;c<m;c++)this.sg[c](!1);this.fb(!1)}};a.prototype.eo=function(c){this.sg.push(c)};a.prototype.nd=function(c){return this.wh[c]};a.prototype.qh=function(c){c&&c.project||ga("Project model unavailable");
c=c.project;this.name=c[0];this.al=c[1];this.mb=c[12];this.bl=c[12];this.ua=c[10];this.ta=c[11];this.Am=this.ua/2;this.Bm=this.ta/2;this.za&&!this.$b&&(4<=c[12]||0===c[12])&&(N("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.bl=this.mb=3);this.jk=c[18];this.Wf=c[19];0===this.Wf&&(this.Se=new Image,this.Se.src="loading-logo.png");this.eg=c[21];this.wh=fc();this.Jc=new Y(this);var m,d,a,e,h,b,g,k,f;m=0;for(d=c[2].length;m<d;m++)g=
c[2][m],a=this.nd(g[0]),jb(g,a.prototype),f=new a(this),f.Nh=g[1],f.Cd=g[2],f.gm=g[9],f.Va&&f.Va(),this.plugins.push(f);this.wh=fc();m=0;for(d=c[3].length;m<d;m++){g=c[3][m];h=this.nd(g[1]);f=null;a=0;for(e=this.plugins.length;a<e;a++)if(this.plugins[a]instanceof h){f=this.plugins[a];break}var r=new f.Td(f);r.name=g[0];r.L=g[2];r.fj=g[3].slice(0);r.rr=g[3].length;r.ko=g[4];r.qp=g[5];r.J=g[11];r.L?(r.em=[],r.Uc=this.Cf++,r.da=null):(r.em=null,r.Uc=-1,r.da=[]);r.Pg=null;r.He=null;r.Xk=null;r.ac=!1;
r.lb=null;g[6]?(r.cn=g[6][0],r.dn=g[6][1],r.hr=g[6][2]):(r.cn=null,r.dn=0,r.hr=0);r.jb=g[7]?g[7]:null;r.index=m;r.c=[];r.Jg=[];r.Nd=[new kb(r)];r.Rc=0;r.uc=null;r.vo=0;r.hf=!0;r.Yh=lb;r.up=nb;r.zp=ob;r.Y=pb;r.ig=qb;r.Kj=rb;r.bf=sb;r.Ug=tb;r.Ni=ub;r.Pi=vb;r.qd=wb;r.il=xb;r.Nk=new bb(this.ua,this.ta);r.xk=!0;r.yk=!1;r.P={};r.toString=yb;r.ka=[];a=0;for(e=g[8].length;a<e;a++){k=g[8][a];var u=this.nd(k[1]),n=null;h=0;for(b=this.ka.length;h<b;h++)if(this.ka[h]instanceof u){n=this.ka[h];break}n||(n=new u(this),
n.hm=[],n.yj=new ca,n.Va&&n.Va(),this.ka.push(n));-1===n.hm.indexOf(r)&&n.hm.push(r);h=new n.Td(n,r);h.name=k[0];h.J=k[2];h.Va();r.ka.push(h)}r.global=g[9];r.ij=g[10];r.B=[];a=0;for(e=g[12].length;a<e;a++)r.B.push({id:g[12][a][0],name:g[12][a][1],Ma:-1,yb:!0,index:a});r.Ns=g[13];this.jk&&!r.L&&!r.ij&&f.Cd||r.Va();r.name&&(this.types[r.name]=r);this.i.push(r);f.Nh&&(a=new f.mc(r),a.uid=this.eg++,a.Jm=this.im++,a.ke=0,a.Ff=zb,a.toString=Ab,a.Ea=g[14],a.Va(),r.c.push(a),this.Gd[a.uid.toString()]=a)}m=
0;for(d=c[4].length;m<d;m++)for(h=c[4][m],b=this.i[h[0]],a=1,e=h.length;a<e;a++)g=this.i[h[a]],g.da.push(b),b.em.push(g);m=0;for(d=c[27].length;m<d;m++){h=c[27][m];b=[];a=0;for(e=h.length;a<e;a++)b.push(this.i[h[a]]);a=0;for(e=b.length;a<e;a++)b[a].ac=!0,b[a].lb=b}if(0<this.Cf)for(m=0,d=this.i.length;m<d;m++)if(g=this.i[m],!g.L&&g.da.length){g.Pg=Array(this.Cf);g.He=Array(this.Cf);g.Xk=Array(this.Cf);r=[];a=n=u=k=0;for(e=g.da.length;a<e;a++)for(f=g.da[a],g.Pg[f.Uc]=k,k+=f.rr,g.He[f.Uc]=u,u+=f.ko,
g.Xk[f.Uc]=n,n+=f.qp,h=0,b=f.B.length;h<b;h++)r.push(wa({},f.B[h]));g.B=r.concat(g.B);a=0;for(e=g.B.length;a<e;a++)g.B[a].index=a}m=0;for(d=c[5].length;m<d;m++)g=c[5][m],a=new Bb(this,g),this.pj[a.name]=a,this.ec.push(a);m=0;for(d=c[6].length;m<d;m++)g=c[6][m],a=new Cb(this,g),this.Di[a.name]=a,this.Tc.push(a);m=0;for(d=this.Tc.length;m<d;m++)this.Tc[m].ja();m=0;for(d=this.Tc.length;m<d;m++)this.Tc[m].tn();m=0;for(d=this.Xh.length;m<d;m++)this.Xh[m].ja();this.Xh.length=0;this.io=c[7];this.Hi=c[8];
this.$e=c[9];this.sf=1;this.Mo=c[13];this.U=c[14];this.ei=c[15];this.qr=c[17];this.Ej=c[20];this.jo=0<this.Ej;this.Bq=c[22];this.Nb=this.xn=c[23];this.Ho=c[24];this.Hq=c[25];this.Ph=Date.now();this.wh.length=0;this.Zp()};var g=!1;a.prototype.sr=function(c,d){c.cocoonLazyLoad=!0;c.onerror=function(d){g=c.Gk=!0;console&&console.error&&console.error("Error loading image '"+c.src+"': ",d)};this.$b?c.src=d:c.src||("undefined"!==typeof XAPKReader?XAPKReader.get(d,function(d){c.src=d},function(a){g=c.Gk=
!0;console&&console.error&&console.error("Error extracting image '"+d+"' from expansion file: ",a)}):c.src=d);this.of.push(c)};a.prototype.np=function(c){var d,a;d=0;for(a=this.of.length;d<a;d++)if(this.of[d].ro===c)return this.of[d];return null};var d=0,e=!1;a.prototype.Rp=function(){this.Ee&&(d=this.Ee.$q(this.io))};a.prototype.zk=function(){var c=d,a=0,q=0,h=!0,b,g,q=0;for(b=this.of.length;q<b;q++){g=this.of[q];var f=g.qo;if(!f||0>=f)f=5E4;c+=f;g.src&&(g.complete||g.loaded)&&!g.Gk?a+=f:h=!1}h&&
this.Hq&&this.Ee&&(e||(this.Ee.er(),e=!0),q=this.Ee.Ap(),a+=q,q<d&&(h=!1));this.ve=0==c?0:a/c;return h};a.prototype.go=function(){if(this.V||this.q){var c=this.V||this.Gj;this.Ka&&this.Fm();this.ve=0;this.Il=-1;if(this.zk())this.Sp();else{var d=Date.now()-this.Ph;if(c){var a=this.width,e=this.height,h=this.devicePixelRatio;this.Ka&&(a=this.Fg,e=this.Eg,h=1);if(3!==this.Wf&&(this.Zb||500<=d&&this.Il!=this.ve)){c.clearRect(0,0,a,e);var d=a/2,e=e/2,a=0===this.Wf&&this.Se.complete,b=40*h,f=0,k=80*h,r;
a&&(k=this.Se.width*h,r=this.Se.height*h,b=k/2,f=r/2,c.drawImage(this.Se,Q(d-b),Q(e-f),k,r));1>=this.Wf?(d=Q(d-b)+.5,e=Q(e+(f+(a?12*h:0)))+.5,c.fillStyle=g?"red":"DodgerBlue",c.fillRect(d,e,Math.floor(k*this.ve),6*h),c.strokeStyle="black",c.strokeRect(d,e,k,6*h),c.strokeStyle="white",c.strokeRect(d-1*h,e-1*h,k+2*h,8*h)):2===this.Wf&&(c.font=this.$b?"12pt ArialMT":"12pt Arial",c.fillStyle=g?"#f00":"#999",c.Ms="middle",h=Math.round(100*this.ve)+"%",a=c.measureText?c.measureText(h):null,c.fillText(h,
d-(a?a.width:0)/2,e))}this.Il=this.ve}setTimeout(function(c){return function(){c.go()}}(this),this.Zb?10:100)}}};a.prototype.Sp=function(){this.Ka&&(this.canvas.parentNode.removeChild(this.Ka),this.Ka=this.Gj=null);this.Ph=Date.now();this.re=Va();var c,d,a;if(this.jk)for(c=0,d=this.i.length;c<d;c++)a=this.i[c],a.L||a.ij||!a.La.Cd||a.Va();else this.Rf=!1;c=0;for(d=this.ec.length;c<d;c++)this.ec[c].so();2<=this.mb&&(c=this.ua/this.ta,d=this.width/this.height,this.sf=2!==this.mb&&d>c||2===this.mb&&d<
c?this.height/this.ta:this.width/this.ua);this.al?this.pj[this.al].ak():this.ec[0].ak();this.jk||(this.sh=1,this.trigger(Y.prototype.A.qk,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();c=0;for(d=this.i.length;c<d;c++)a=this.i[c],a.qq&&a.qq();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.fb(!1);this.$a&&AppMobi.webview.execute("onGameReady();")};var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.fb=function(c){if(this.aa){var d=Va();if(this.Tp&&this.Mj&&29>d-this.oj)this.Mj=!1,this.oj=d,r?this.Gh=r(this.Sh,this.canvas):this.Uh=setTimeout(this.Sh,this.Ad?1:16);else{this.Mj=!0;this.oj=d;var a=this.mb,e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.zd;(e||this.Mf)&&0<this.ge&&(a=this.ge);0<a&&(!this.hh||window.self!==
window.top)&&(a=window.innerHeight,this.Uf===window.innerWidth&&this.Tf===a||this.setSize(p(),l()));this.za||(e?(this.Rg||(this.Li=jQuery(this.canvas).css("margin")||"0",this.Rg=!0),this.Kf||this.Bd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Rg?(this.Kf||this.Bd||jQuery(this.canvas).css("margin",this.Li),this.Li="",this.Rg=!1,0===this.mb&&
this.setSize(Math.round(this.pm/this.devicePixelRatio),Math.round(this.om/this.devicePixelRatio),!0)):(this.pm=this.width,this.om=this.height));this.Rf&&(e=this.zk(),this.sh=this.ve,e&&(this.Rf=!1,this.ve=1,this.trigger(Y.prototype.A.qk,null)));this.mq();!this.Z&&!this.Zb||this.lj||this.rg||c||(this.Z=!1,this.q?this.vc():this.be(),this.Oh&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Oh[0],this.Oh[1]),this.trigger(Y.prototype.A.Nn,null)),this.Oh=null));this.Hs||(this.ug++,this.Og++,
this.Sg++);this.bg+=Va()-d;this.Nf||c||(r?this.Gh=r(this.Sh,this.canvas):this.Uh=setTimeout(this.Sh,this.Ad?1:16))}}};a.prototype.mq=function(){var c,d,a,e,h,b,g,f,k;c=Va();1E3<=c-this.re&&(this.re+=1E3,1E3<=c-this.re&&(this.re=c),this.Ki=this.Sg,this.Sg=0,this.si=this.bg,this.bg=0);this.dm&&(0!==this.lh&&(d=c-this.lh,0!==d||this.aq?(this.Sc=d/1E3,.5<this.Sc?this.Sc=0:.1<this.Sc&&(this.Sc=.1)):(10<=this.Ps&&(this.dm=!1),this.Sc=1/60)),this.lh=c);this.de=this.Sc*this.jf;this.qb.add(this.de);this.Nc.add(this.Sc);
c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Mf)&&!this.zd;2<=this.mb||c&&0<this.ge?(d=this.ua/this.ta,a=this.width/this.height,e=this.mb,c&&0<this.ge&&(e=this.ge),this.sf=2!==e&&a>d||2===e&&a<d?this.height/this.ta:this.width/this.ua,this.aa&&(this.aa.Pm(this.aa.scrollX),this.aa.Qm(this.aa.scrollY))):this.sf=this.Le?this.devicePixelRatio:1;this.Na();this.Zc++;this.Jc.Rq();this.Zc--;this.Na();this.Zc++;a=this.mm.Rd();c=0;for(d=a.length;c<
d;c++)a[c].Js();c=0;for(d=this.i.length;c<d;c++)if(g=this.i[c],!g.L&&(g.ka.length||g.da.length))for(a=0,e=g.c.length;a<e;a++)for(f=g.c[a],h=0,b=f.D.length;h<b;h++)f.D[h].fb();c=0;for(d=this.i.length;c<d;c++)if(g=this.i[c],!g.L&&(g.ka.length||g.da.length))for(a=0,e=g.c.length;a<e;a++)for(f=g.c[a],h=0,b=f.D.length;h<b;h++)k=f.D[h],k.Gq&&k.Gq();a=this.Aj.Rd();c=0;for(d=a.length;c<d;c++)a[c].fb();this.Zc--;this.Up();for(c=0;this.vf&&10>c++;)this.Uk(this.vf);c=0;for(d=this.Tc.length;c<d;c++)this.Tc[c].$i=
!1;this.aa.Af&&this.aa.Af.wa();this.Nq.length=0;this.Zc++;c=0;for(d=this.i.length;c<d;c++)if(g=this.i[c],!g.L&&(g.ka.length||g.da.length))for(a=0,e=g.c.length;a<e;a++)for(f=g.c[a],h=0,b=f.D.length;h<b;h++)k=f.D[h],k.gn&&k.gn();a=this.nm.Rd();c=0;for(d=a.length;c<d;c++)a[c].gn();this.Zc--};a.prototype.Uk=function(c){var d=this.aa;this.aa.fr();var a,e,h,b,g,f,k;if(this.q)for(a=0,e=this.i.length;a<e;a++)g=this.i[a],g.L||!g.qn||g.global&&0!==g.c.length||-1!==c.Jf.indexOf(g)||g.qn();d==c&&(this.Jc.gb.length=
0);c.ak();a=0;for(e=this.i.length;a<e;a++)if(g=this.i[a],g.global||g.La.Nh)for(c=0,d=g.c.length;c<d;c++)if(f=g.c[c],f.Dj&&f.Dj(),f.D)for(h=0,b=f.D.length;h<b;h++)k=f.D[h],k.Dj&&k.Dj();this.Z=!0;this.Na()};a.prototype.Th=function(c){this.Aj.add(c)};a.prototype.gl=function(c){return c&&-1!==c.dg?this.Sc*c.dg:this.de};a.prototype.be=function(){this.aa.be(this.V);this.$a&&this.V.present()};a.prototype.vc=function(){this.aa.vc(this.q);this.q.Jq()};a.prototype.bo=function(c){c&&this.Ai.push(c)};a.prototype.Wg=
function(c){c=c.toString();return this.Gd.hasOwnProperty(c)?this.Gd[c]:null};var h=[];a.prototype.Sd=function(c){var a,d;a=c.type.name;var e=null;if(this.$d.hasOwnProperty(a)){if(e=this.$d[a],e.contains(c))return}else e=h.length?h.pop():new ca,this.$d[a]=e;e.add(c);this.yd=!0;if(c.ac)for(a=0,d=c.siblings.length;a<d;a++)this.Sd(c.siblings[a]);this.hj&&e.mf.push(c);this.Zc++;this.trigger(Object.getPrototypeOf(c.type.La).A.Pn,c);this.Zc--};a.prototype.Na=function(){if(this.yd){var c,a,d,e,h,g;this.hj=
!0;d=0;for(h=this.tc.length;d<h;++d)for(c=this.tc[d],a=c.type,a.c.push(c),e=0,g=a.da.length;e<g;++e)a.da[e].c.push(c),a.da[e].hf=!0;this.tc.length=0;this.In();Ua(this.$d);this.yd=this.hj=!1}};a.prototype.In=function(){for(var c in this.$d)this.$d.hasOwnProperty(c)&&this.Bn(this.$d[c])};a.prototype.Bn=function(c){var a=c.Rd(),d=a[0].type,e,g,b,f,k,r;Wa(d.c,c);d.hf=!0;0===d.c.length&&(d.yk=!1);e=0;for(g=d.da.length;e<g;++e)r=d.da[e],Wa(r.c,c),r.hf=!0;e=0;for(g=this.Jc.gb.length;e<g;++e)if(k=this.Jc.gb[e],
k.Wa.hasOwnProperty(d.index)&&Wa(k.Wa[d.index].Xc,c),!d.L)for(b=0,f=d.da.length;b<f;++b)r=d.da[b],k.Wa.hasOwnProperty(r.index)&&Wa(k.Wa[r.index].Xc,c);if(k=a[0].e){if(k.kc)for(b=k.c,e=0,g=b.length;e<g;++e)f=b[e],c.contains(f)&&(f.Ra(),k.tb.update(f,f.bb,null),f.bb.set(0,0,-1,-1));Wa(k.c,c);k.ng(0)}for(e=0;e<a.length;++e)this.An(a[e],d);c.clear();h.push(c);this.Z=!0};a.prototype.An=function(c,a){var d,e,h;d=0;for(e=this.Ai.length;d<e;++d)this.Ai[d](c);c.ud&&a.Nk.update(c,c.ud,null);(d=c.e)&&d.df(c,
!0);if(c.D)for(d=0,e=c.D.length;d<e;++d)h=c.D[d],h.Cj&&h.Cj(),h.behavior.yj.remove(c);this.mm.remove(c);this.Aj.remove(c);this.nm.remove(c);c.Cj&&c.Cj();this.Gd.hasOwnProperty(c.uid.toString())&&delete this.Gd[c.uid.toString()];this.xh--;100>a.Jg.length&&a.Jg.push(c)};var u=[];a.prototype.Zd=function(c,d,a,e,h,g){var b,f,k,r;if(!c)return null;var n=this.i[c[1]],p=n.La.Cd;if(this.Rf&&p&&!n.ij||p&&!this.q&&11===c[0][11])return null;var A=d;p||(d=null);var l;n.Jg.length?(l=n.Jg.pop(),l.Gc=!0,n.La.mc.call(l,
n)):(l=new n.La.mc(n),l.Gc=!1);l.uid=a&&!g?c[2]:this.eg++;this.Gd[l.uid.toString()]=l;l.Jm=this.im++;l.ke=n.c.length;b=0;for(f=this.tc.length;b<f;++b)this.tc[b].type===n&&l.ke++;l.Ff=zb;l.toString=Ab;k=c[3];if(l.Gc)Ua(l.P);else{l.P={};if("undefined"!==typeof cr_is_preview)for(l.tl=[],l.tl.length=k.length,b=0,f=k.length;b<f;b++)l.tl[b]=k[b][1];l.ra=[];l.ra.length=k.length}b=0;for(f=k.length;b<f;b++)l.ra[b]=k[b][0];if(p){var s=c[0];l.x=ha(e)?s[0]:e;l.y=ha(h)?s[1]:h;l.z=s[2];l.width=s[3];l.height=s[4];
l.depth=s[5];l.j=s[6];l.opacity=s[7];l.ob=s[8];l.pb=s[9];l.Xa=s[10];b=s[11];!this.q&&n.B.length&&(l.Xa=b);l.xf=db(l.Xa);this.g&&eb(l,l.Xa,this.g);if(l.Gc){b=0;for(f=s[12].length;b<f;b++)for(k=0,r=s[12][b].length;k<r;k++)l.fa[b][k]=s[12][b][k];l.Sa.set(0,0,0,0);l.ud.set(0,0,-1,-1);l.bb.set(0,0,-1,-1);l.yg.Mh(l.Sa);l.ii.length=0}else{l.fa=s[12].slice(0);b=0;for(f=l.fa.length;b<f;b++)l.fa[b]=s[12][b].slice(0);l.N=[];l.od=[];l.od.length=n.B.length;l.Sa=new S(0,0,0,0);l.ud=new S(0,0,-1,-1);l.bb=new S(0,
0,-1,-1);l.yg=new va;l.ii=[];l.Ga=Db;l.Ds=Eb;l.Ib=Fb;l.Ra=Gb;l.pr=Hb;l.Os=Ib;l.zc=Jb}l.jr=!1;l.lr=0;l.kr=0;l.ir=null;14===s.length&&(l.jr=!0,l.lr=s[13][0],l.kr=s[13][1],l.ir=s[13][2]);b=0;for(f=n.B.length;b<f;b++)l.od[b]=!0;l.jd=Kb;l.jd();l.vn=!!l.N.length;l.hi=!0;l.ni=!0;n.xk=!0;l.visible=!0;l.dg=-1;l.e=d;l.lc=d.c.length;"undefined"===typeof l.sc&&(l.sc=null);this.Z=l.wf=!0}var v;b=u.length=0;for(f=n.da.length;b<f;b++)u.push.apply(u,n.da[b].ka);u.push.apply(u,n.ka);if(l.Gc)for(b=0,f=u.length;b<f;b++){var D=
u[b];v=l.D[b];v.Gc=!0;D.behavior.mc.call(v,D,l);s=c[4][b];k=0;for(r=s.length;k<r;k++)v.Ea[k]=s[k];v.Va();D.behavior.yj.add(l)}else for(l.D=[],b=0,f=u.length;b<f;b++)D=u[b],v=new D.behavior.mc(D,l),v.Gc=!1,v.Ea=c[4][b].slice(0),v.Va(),l.D.push(v),D.behavior.yj.add(l);s=c[5];if(l.Gc)for(b=0,f=s.length;b<f;b++)l.Ea[b]=s[b];else l.Ea=s.slice(0);this.tc.push(l);this.yd=!0;d&&(d.rf(l,!0),1!==d.bd||1!==d.cd)&&(n.yk=!0);this.xh++;if(n.ac){if(l.ac=!0,l.Gc?l.siblings.length=0:l.siblings=[],!a&&!g){b=0;for(f=
n.lb.length;b<f;b++)if(n.lb[b]!==n){if(!n.lb[b].uc)return null;l.siblings.push(this.Zd(n.lb[b].uc,A,!1,p?l.x:e,p?l.y:h,!0))}b=0;for(f=l.siblings.length;b<f;b++)for(l.siblings[b].siblings.push(l),k=0;k<f;k++)b!==k&&l.siblings[b].siblings.push(l.siblings[k])}}else l.ac=!1,l.siblings=null;l.Va();b=0;for(f=l.D.length;b<f;b++)l.D[b].Fq&&l.D[b].Fq();return l};a.prototype.Ri=function(c){var d,a;d=0;for(a=this.aa.F.length;d<a;d++){var e=this.aa.F[d];if(gb(e.name,c))return e}return null};a.prototype.Df=function(c){c=
Q(c);0>c&&(c=0);c>=this.aa.F.length&&(c=this.aa.F.length-1);return this.aa.F[c]};a.prototype.qi=function(c){var d,a;d=0;for(a=c.length;d<a;d++)c[d].Y().ba=!0};a.prototype.ig=function(c){var d,a;d=0;for(a=c.length;d<a;d++)c[d].ig()};a.prototype.Kj=function(c){var d,a;d=0;for(a=c.length;d<a;d++)c[d].Kj()};a.prototype.bf=function(c){var d,a;d=0;for(a=c.length;d<a;d++)c[d].bf()};a.prototype.gr=function(c,d,a){var e=c.Y(),h,b,g,f,k,r;if(e.ba)for(e.ba=!1,h=e.c.length=0,f=c.c.length;h<f;h++)g=c.c[h],g.Ra(),
k=g.e.kb(d,a,!0),r=g.e.kb(d,a,!1),g.Ib(k,r)&&e.c.push(g);else{h=b=0;for(f=e.c.length;h<f;h++)g=e.c[h],g.Ra(),k=g.e.kb(d,a,!0),r=g.e.kb(d,a,!1),g.Ib(k,r)&&(e.c[b]=e.c[h],b++);e.c.length=b}c.qd();return e.Zi()};new va;new S(0,0,0,0);a.prototype.nn=function(c,d){if(!d)return!1;var a,e,h,b,g;a=0;for(e=c.ka.length;a<e;a++)if(c.ka[a].behavior instanceof d)return!0;if(!c.L)for(a=0,e=c.da.length;a<e;a++)for(g=c.da[a],h=0,b=g.ka.length;h<b;h++)if(g.ka[h].behavior instanceof d)return!0;return!1};a.prototype.on=
function(c){return this.nn(c,Yb.Yr)};a.prototype.fk=function(c){return this.nn(c,Yb.Zr)};var A=-1;a.prototype.trigger=function(c,d,a){if(!this.aa)return!1;var e=this.aa.Af;if(!e)return!1;var h=!1,b,g,f;A++;var k=e.xi;g=0;for(f=k.length;g<f;++g)b=this.kn(c,d,k[g],a),h=h||b;b=this.kn(c,d,e,a);A--;return h||b};a.prototype.kn=function(c,d,a,e){var h=!1,b,g,f,k;if(d)for(f=this.dk(c,d,d.type.name,a,e),h=h||f,k=d.type.da,b=0,g=k.length;b<g;++b)f=this.dk(c,d,k[b].name,a,e),h=h||f;else f=this.dk(c,d,"system",
a,e),h=h||f;return h};a.prototype.dk=function(c,d,a,e,h){var b,g=!1,f=!1,f="undefined"!==typeof h,k=(f?e.Zk:e.ln)[a];if(!k)return g;var r=null;e=0;for(b=k.length;e<b;++e)if(k[e].method==c){r=k[e].Bf;break}if(!r)return g;c=f?r[h]:r;if(!c)return null;e=0;for(b=c.length;e<b;e++)h=c[e][0],f=c[e][1],f=this.lp(d,a,h,f),g=g||f;return g};a.prototype.lp=function(c,d,a,e){var h,b,g=!1;this.ek++;var f=this.Za().Ab;f&&this.ig(f.Ld);var k=1<this.ek;this.ig(a.Ld);k&&this.Lq();var r=this.Lj(a);r.Ab=a;c&&(h=this.types[d].Y(),
h.ba=!1,h.c.length=1,h.c[0]=c,this.types[d].qd());c=!0;if(a.parent){d=r.bn;for(h=a.parent;h;)d.push(h),h=h.parent;d.reverse();h=0;for(b=d.length;h<b;h++)if(!d[h].Tq()){c=!1;break}}c&&(this.Og++,a.Dc?a.Sq(e):a.wa(),g=g||r.qe);this.Em();k&&this.Eq();this.bf(a.Ld);f&&this.bf(f.Ld);this.yd&&0===this.Zc&&0===A&&!this.jj&&this.Na();this.ek--;return g};a.prototype.el=function(){var c=this.Za();return c.Ab.Oa[c.Ya]};a.prototype.Lq=function(){this.uh++;this.uh>=this.tj.length&&this.tj.push([])};a.prototype.Eq=
function(){this.uh--};a.prototype.fl=function(){return this.tj[this.uh]};a.prototype.Lj=function(c){this.Ng++;this.Ng>=this.Ci.length&&this.Ci.push(new Lb);var d=this.Za();d.reset(c);return d};a.prototype.Em=function(){this.Ng--};a.prototype.Za=function(){return this.Ci[this.Ng]};a.prototype.hl=function(c,d){for(var a,e,h,b,g,f;d;){a=0;for(e=d.Ub.length;a<e;a++)if(f=d.Ub[a],f instanceof Mb&&gb(c,f.name))return f;d=d.parent}a=0;for(e=this.Tc.length;a<e;a++)for(g=this.Tc[a],h=0,b=g.wd.length;h<b;h++)if(f=
g.wd[h],f instanceof Mb&&gb(c,f.name))return f;return null};a.prototype.jl=function(c){var d,a;d=0;for(a=this.ec.length;d<a;d++)if(this.ec[d].J===c)return this.ec[d];return null};a.prototype.Xg=function(c){var d,a;d=0;for(a=this.i.length;d<a;d++)if(this.i[d].J===c)return this.i[d];return null};a.prototype.vp=function(c){var d,a;d=0;for(a=this.De.length;d<a;d++)if(this.De[d].J===c)return this.De[d];return null};a.prototype.Up=function(){var c=this,d=this.Wj,a=this.$c,e=this.oh,h=!1;this.Ym&&(h=!0,
d="__c2_continuouspreview",this.Ym=!1);if(d.length){this.Na();a=this.Xq();if(window.indexedDB&&!this.Zb)s(d,a,function(){N("Saved state to IndexedDB storage ("+a.length+" bytes)");c.$c=a;c.trigger(Y.prototype.A.di,null);c.$c="";h&&k()},function(e){try{localStorage.setItem("__c2save_"+d,a),N("Saved state to WebStorage ("+a.length+" bytes)"),c.$c=a,c.trigger(Y.prototype.A.di,null),c.$c="",h&&k()}catch(b){N("Failed to save game state: "+e+"; "+b)}});else try{localStorage.setItem("__c2save_"+d,a),N("Saved state to WebStorage ("+
a.length+" bytes)"),c.$c=a,this.trigger(Y.prototype.A.di,null),c.$c="",h&&k()}catch(b){N("Error saving to WebStorage: "+b)}this.Ua=this.oh=this.Wj=""}e.length&&(window.indexedDB&&!this.Zb?n(e,function(d){d?(c.Ua=d,N("Loaded state from IndexedDB storage ("+c.Ua.length+" bytes)")):(c.Ua=localStorage.getItem("__c2save_"+e)||"",N("Loaded state from WebStorage ("+c.Ua.length+" bytes)"));c.rg=!1;c.Ua.length||c.trigger(Y.prototype.A.bi,null)},function(){c.Ua=localStorage.getItem("__c2save_"+e)||"";N("Loaded state from WebStorage ("+
c.Ua.length+" bytes)");c.rg=!1;c.Ua.length||c.trigger(Y.prototype.A.bi,null)}):(this.Ua=localStorage.getItem("__c2save_"+e)||"",N("Loaded state from WebStorage ("+this.Ua.length+" bytes)"),this.rg=!1,c.Ua.length||c.trigger(Y.prototype.A.bi,null)),this.Wj=this.oh="");this.Ua.length&&(this.Na(),this.kq(this.Ua),this.$c=this.Ua,this.trigger(Y.prototype.A.Rn,null),this.Ua=this.$c="")};a.prototype.Xq=function(){var c,d,a,e,h,g,f,k={c2save:!0,version:1,rt:{time:this.qb.R,walltime:this.Nc.R,timescale:this.jf,
tickcount:this.ug,execcount:this.Og,next_uid:this.eg,running_layout:this.aa.J,start_time_offset:Date.now()-this.Ph},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(d=this.i.length;c<d;c++)if(h=this.i[c],!h.L&&!this.on(h)){g={instances:[]};Ta(h.P)&&(g.ex=b(h.P));a=0;for(e=h.c.length;a<e;a++)g.instances.push(this.Vj(h.c[a]));k.types[h.J.toString()]=g}c=0;for(d=this.ec.length;c<d;c++)a=this.ec[c],k.layouts[a.J.toString()]=a.ic();e=k.events.groups;c=0;for(d=this.De.length;c<d;c++)a=
this.De[c],e[a.J.toString()]=this.Zg[a.Gf].Yg;d=k.events.cnds;for(f in this.Fe)this.Fe.hasOwnProperty(f)&&(c=this.Fe[f],Ta(c.P)&&(d[f]={ex:b(c.P)}));d=k.events.acts;for(f in this.Ce)this.Ce.hasOwnProperty(f)&&(c=this.Ce[f],Ta(c.P)&&(d[f]={ex:c.P}));d=k.events.vars;for(f in this.nf)this.nf.hasOwnProperty(f)&&(c=this.nf[f],c.eh||c.parent&&!c.Qf||(d[f]=c.data));k.system=this.Jc.ic();return JSON.stringify(k)};a.prototype.Lm=function(){var c,d,a,e,h,b;this.Gd={};c=0;for(d=this.i.length;c<d;c++)if(a=this.i[c],
!a.L)for(e=0,h=a.c.length;e<h;e++)b=a.c[e],this.Gd[b.uid.toString()]=b};a.prototype.kq=function(c){c=JSON.parse(c);if(c.c2save&&!(1<c.version)){var d=c.rt;this.qb.reset();this.qb.R=d.time;this.Nc.reset();this.Nc.R=d.walltime||0;this.jf=d.timescale;this.ug=d.tickcount;this.Og=d.execcount;this.Ph=Date.now()-d.start_time_offset;var a=d.running_layout;if(a!==this.aa.J)if(a=this.jl(a))this.Uk(a);else return;var e,h,b,g,f,k,r;k=c.types;for(h in k)if(k.hasOwnProperty(h)&&(g=this.Xg(parseInt(h,10)))&&!g.L&&
!this.on(g)){k[h].ex?g.P=k[h].ex:Ua(g.P);f=g.c;b=k[h].instances;a=0;for(e=pa(f.length,b.length);a<e;a++)this.ph(f[a],b[a]);a=b.length;for(e=f.length;a<e;a++)this.Sd(f[a]);a=f.length;for(e=b.length;a<e;a++){f=null;if(g.La.Cd&&(f=this.aa.Vg(b[a].w.l),!f))continue;f=this.Zd(g.uc,f,!1,0,0,!0);this.ph(f,b[a])}g.hf=!0}this.Na();this.Lm();e=c.layouts;for(h in e)e.hasOwnProperty(h)&&(a=this.jl(parseInt(h,10)))&&a.ad(e[h]);e=c.events.groups;for(h in e)e.hasOwnProperty(h)&&(a=this.vp(parseInt(h,10)))&&this.Zg[a.Gf]&&
(this.Zg[a.Gf].Yg=e[h]);a=c.events.cnds;for(h in a)a.hasOwnProperty(h)&&this.Fe.hasOwnProperty(h)&&(this.Fe[h].P=a[h].ex);a=c.events.acts;for(h in a)a.hasOwnProperty(h)&&this.Ce.hasOwnProperty(h)&&(this.Ce[h].P=a[h].ex);a=c.events.vars;for(h in a)a.hasOwnProperty(h)&&this.nf.hasOwnProperty(h)&&(this.nf[h].data=a[h]);this.eg=d.next_uid;this.Jc.ad(c.system);a=0;for(e=this.i.length;a<e;a++)if(g=this.i[a],!g.L)for(h=0,c=g.c.length;h<c;h++){f=g.c[h];if(g.ac)for(k=f.Ff(),d=f.siblings.length=0,b=g.lb.length;d<
b;d++)r=g.lb[d],g!==r&&f.siblings.push(r.c[k]);f.pd&&f.pd();if(f.D)for(d=0,b=f.D.length;d<b;d++)k=f.D[d],k.pd&&k.pd()}this.Z=!0}};a.prototype.Vj=function(c,a){var d,e,h,g,f;g=c.type;h=g.La;var k={};a?k.c2=!0:k.uid=c.uid;Ta(c.P)&&(k.ex=b(c.P));if(c.ra&&c.ra.length)for(k.ivs={},d=0,e=c.ra.length;d<e;d++)k.ivs[c.type.fj[d].toString()]=c.ra[d];if(h.Cd){h={x:c.x,y:c.y,w:c.width,h:c.height,l:c.e.J,zi:c.zc()};0!==c.j&&(h.a=c.j);1!==c.opacity&&(h.o=c.opacity);.5!==c.ob&&(h.hX=c.ob);.5!==c.pb&&(h.hY=c.pb);
0!==c.Xa&&(h.bm=c.Xa);c.visible||(h.v=c.visible);c.wf||(h.ce=c.wf);-1!==c.dg&&(h.mts=c.dg);if(g.B.length)for(h.fx=[],d=0,e=g.B.length;d<e;d++)f=g.B[d],h.fx.push({name:f.name,active:c.od[f.index],params:c.fa[f.index]});k.w=h}if(c.D&&c.D.length)for(k.behs={},d=0,e=c.D.length;d<e;d++)g=c.D[d],g.ic&&(k.behs[g.type.J.toString()]=g.ic());c.ic&&(k.data=c.ic());return k};a.prototype.xp=function(c,d){var a,e;a=0;for(e=c.fj.length;a<e;a++)if(c.fj[a]===d)return a;return-1};a.prototype.tp=function(c,d){var a,
e;a=0;for(e=c.D.length;a<e;a++)if(c.D[a].type.J===d)return a;return-1};a.prototype.ph=function(c,d,a){var e,h,b,g,f;f=c.type;b=f.La;if(a){if(!d.c2)return}else c.uid=d.uid;d.ex?c.P=d.ex:Ua(c.P);if(h=d.ivs)for(e in h)h.hasOwnProperty(e)&&(a=this.xp(f,parseInt(e,10)),0>a||a>=c.ra.length||(c.ra[a]=h[e]));if(b.Cd){b=d.w;c.e.J!==b.l&&(a=c.e,c.e=this.aa.Vg(b.l),c.e?(a.df(c,!0),c.e.rf(c,!0),c.Ga(),c.e.ng(0)):(c.e=a,this.Sd(c)));c.x=b.x;c.y=b.y;c.width=b.w;c.height=b.h;c.lc=b.zi;c.j=b.hasOwnProperty("a")?
b.a:0;c.opacity=b.hasOwnProperty("o")?b.o:1;c.ob=b.hasOwnProperty("hX")?b.hX:.5;c.pb=b.hasOwnProperty("hY")?b.hY:.5;c.visible=b.hasOwnProperty("v")?b.v:!0;c.wf=b.hasOwnProperty("ce")?b.ce:!0;c.dg=b.hasOwnProperty("mts")?b.mts:-1;c.Xa=b.hasOwnProperty("bm")?b.bm:0;c.xf=db(c.Xa);this.g&&eb(c,c.Xa,this.g);c.Ga();if(b.hasOwnProperty("fx"))for(a=0,h=b.fx.length;a<h;a++)g=f.Pi(b.fx[a].name),0>g||(c.od[g]=b.fx[a].active,c.fa[g]=b.fx[a].params);c.jd()}if(f=d.behs)for(e in f)f.hasOwnProperty(e)&&(b=this.tp(c,
parseInt(e,10)),0>b||c.D[b].ad(f[e]));d.data&&c.ad(d.data)};Nb=function(c){return new a(document.getElementById(c))};Ob=function(c,d){return new a({dc:!0,width:c,height:d})};window.cr_createRuntime=Nb;window.cr_createDCRuntime=Ob;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var c=document.createElement("screencanvas")||document.createElement("canvas");c.Ls=!0;document.body.appendChild(c);c=new a(c);window.c2runtime=c;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c};window.createEjectaRuntime=function(){var c=new a(document.getElementById("canvas"));window.c2runtime=c;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c}})();window.cr_getC2Runtime=function(){var p=document.getElementById("c2canvas");return p?p.c2runtime:window.c2runtime?window.c2runtime:null};
window.cr_sizeCanvas=function(p,l){if(0!==p&&0!==l){var a=window.cr_getC2Runtime();a&&a.setSize(p,l)}};window.cr_setSuspended=function(p){var l=window.cr_getC2Runtime();l&&l.setSuspended(p)};
(function(){function p(d,a){this.b=d;this.Af=null;this.scrollX=this.b.ua/2;this.scrollY=this.b.ta/2;this.scale=1;this.j=0;this.Ie=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.pn=a[3];this.Wm=a[4];this.J=a[5];var b=a[6],h,g;this.F=[];this.Jf=[];h=0;for(g=b.length;h<g;h++){var f=new Pb(this,b[h]);f.km=h;this.F.push(f)}b=a[7];this.le=[];h=0;for(g=b.length;h<g;h++){var f=b[h],c=this.b.i[f[1]];c.uc||(c.uc=f);this.le.push(f);-1===this.Jf.indexOf(c)&&this.Jf.push(c)}this.B=[];this.N=[];this.fa=
[];h=0;for(g=a[8].length;h<g;h++)this.B.push({id:a[8][h][0],name:a[8][h][1],Ma:-1,yb:!0,index:h}),this.fa.push(a[8][h][2].slice(0));this.jd();this.Nj=new S(0,0,1,1);this.Oj=new S(0,0,1,1);this.Hd={}}function l(a,e){return a.lc-e.lc}function a(a,e){this.Ba=a;this.b=a.b;this.c=[];this.scale=1;this.j=0;this.ae=!1;this.gd=new S(0,0,0,0);this.hn=new va;this.Ha=this.qa=this.Ia=this.pa=0;this.ye=!1;this.ld=-1;this.name=e[0];this.index=e[1];this.J=e[2];this.visible=e[3];this.rd=e[4];this.hd=e[5];this.bd=
e[6];this.cd=e[7];this.opacity=e[8];this.Ji=e[9];this.kc=e[10];this.md=e[11];this.Xa=e[12];this.Lo=e[13];this.xf="source-over";this.Pa=this.Qa=0;this.tb=null;this.Re=f();this.dd=!0;this.kh=new S(0,0,-1,-1);this.Kb=new S(0,0,-1,-1);this.kc&&(this.tb=new cb(this.b.ua,this.b.ta));this.Id=!1;var b=e[14],h,g;this.Je=[];h=0;for(g=b.length;h<g;h++){var k=b[h],c=this.b.i[k[1]];c.uc||(c.uc=k,c.vo=this.index);this.Je.push(k);-1===this.Ba.Jf.indexOf(c)&&this.Ba.Jf.push(c)}this.B=[];this.N=[];this.fa=[];h=0;
for(g=e[15].length;h<g;h++)this.B.push({id:e[15][h][0],name:e[15][h][1],Ma:-1,yb:!0,index:h}),this.fa.push(e[15][h][2].slice(0));this.jd();this.Nj=new S(0,0,1,1);this.Oj=new S(0,0,1,1)}function f(){return b.length?b.pop():[]}function s(a){a.length=0;b.push(a)}p.prototype.Wq=function(a){var e=a.type.J.toString();this.Hd.hasOwnProperty(e)||(this.Hd[e]=[]);this.Hd[e].push(this.b.Vj(a))};p.prototype.nl=function(){var a=this.F[0];return!a.hd&&1===a.opacity&&!a.Ji&&a.visible};p.prototype.jd=function(){this.N.length=
0;var a,e,b;a=0;for(e=this.B.length;a<e;a++)b=this.B[a],b.yb&&this.N.push(b)};p.prototype.Oi=function(a){var e,b,h;e=0;for(b=this.B.length;e<b;e++)if(h=this.B[e],h.name===a)return h;return null};var n=[],k=!0;p.prototype.ak=function(){this.Wm&&(this.Af=this.b.Di[this.Wm],this.Af.tn());this.b.aa=this;this.scrollX=this.b.ua/2;this.scrollY=this.b.ta/2;var a,e,b,h,g,f,c;a=0;for(b=this.b.i.length;a<b;a++)if(e=this.b.i[a],!e.L)for(g=e.c,e=0,h=g.length;e<h;e++)if(f=g[e],f.e){var m=f.e.km;m>=this.F.length&&
(m=this.F.length-1);f.e=this.F[m];-1===f.e.c.indexOf(f)&&f.e.c.push(f);f.e.ye=!0}if(!k)for(a=0,b=this.F.length;a<b;++a)this.F[a].c.sort(l);n.length=0;this.lo();a=0;for(b=this.F.length;a<b;a++)f=this.F[a],f.to(),f.hk();g=!1;if(!this.Ie){for(c in this.Hd)if(this.Hd.hasOwnProperty(c)&&(e=this.b.Xg(parseInt(c,10)))&&!e.L&&this.b.fk(e)){h=this.Hd[c];a=0;for(b=h.length;a<b;a++){f=null;if(e.La.Cd&&(f=this.Vg(h[a].w.l),!f))continue;f=this.b.Zd(e.uc,f,!1,0,0,!0);this.b.ph(f,h[a]);g=!0;n.push(f)}h.length=0}a=
0;for(b=this.F.length;a<b;a++)this.F[a].c.sort(l),this.F[a].ye=!0}g&&(this.b.Na(),this.b.Lm());for(a=0;a<n.length;a++)if(f=n[a],f.type.ac)for(b=f.Ff(),e=0,h=f.type.lb.length;e<h;e++)c=f.type.lb[e],f.type!==c&&(c.c.length>b?f.siblings.push(c.c[b]):c.uc&&(g=this.b.Zd(c.uc,f.e,!0,f.x,f.y,!0),this.b.Na(),c.Yh(),f.siblings.push(g),n.push(g)));a=0;for(b=this.le.length;a<b;a++)this.b.Zd(this.le[a],null,!0);this.b.vf=null;this.b.Na();if(this.b.V&&!this.b.za)for(a=0,b=this.b.i.length;a<b;a++)c=this.b.i[a],
!c.L&&c.c.length&&c.Gm&&c.Gm(this.b.V);a=0;for(b=n.length;a<b;a++)f=n[a],this.b.trigger(Object.getPrototypeOf(f.type.La).A.On,f);n.length=0;this.b.trigger(Y.prototype.A.pk,null);this.Ie=!1};p.prototype.so=function(){var a,e,b,h,g;e=a=0;for(b=this.le.length;a<b;a++)h=this.le[a],g=this.b.i[h[1]],g.global?this.b.Zd(h,null,!0):(this.le[e]=h,e++);this.le.length=e};p.prototype.fr=function(){this.b.trigger(Y.prototype.A.Qn,null);this.b.Jc.gb.length=0;var a,e,b,h,g,f;if(!this.Ie)for(a=0,e=this.F.length;a<
e;a++)for(this.F[a].ik(),g=this.F[a].c,b=0,h=g.length;b<h;b++)f=g[b],f.type.global||this.b.fk(f.type)&&this.Wq(f);a=0;for(e=this.F.length;a<e;a++){g=this.F[a].c;b=0;for(h=g.length;b<h;b++)f=g[b],f.type.global||this.b.Sd(f);this.b.Na();g.length=0;this.F[a].ye=!0}a=0;for(e=this.b.i.length;a<e;a++)if(g=this.b.i[a],!(g.global||g.La.Cd||g.La.Nh||g.L)){b=0;for(h=g.c.length;b<h;b++)this.b.Sd(g.c[b]);this.b.Na()}k=!1};new S(0,0,0,0);p.prototype.be=function(a){var e,b=a,h=!1,g=!this.b.Nb;g&&(this.b.nh||(this.b.nh=
document.createElement("canvas"),e=this.b.nh,e.width=this.b.H,e.height=this.b.G,this.b.Kl=e.getContext("2d"),h=!0),e=this.b.nh,b=this.b.Kl,e.width!==this.b.H&&(e.width=this.b.H,h=!0),e.height!==this.b.G&&(e.height=this.b.G,h=!0),h&&(b.webkitImageSmoothingEnabled=this.b.U,b.mozImageSmoothingEnabled=this.b.U,b.msImageSmoothingEnabled=this.b.U,b.imageSmoothingEnabled=this.b.U));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.ei&&!this.nl()&&b.clearRect(0,0,this.b.H,this.b.G);var f,c,
h=0;for(f=this.F.length;h<f;h++)c=this.F[h],c.visible&&0<c.opacity&&11!==c.Xa&&(c.c.length||!c.hd)?c.be(b):c.hk();g&&a.drawImage(e,0,0,this.b.width,this.b.height)};p.prototype.vc=function(a){var e=0<this.N.length||this.b.lf||!this.b.Nb;if(e){this.b.rb||(this.b.rb=a.vd(this.b.H,this.b.G,this.b.U));if(this.b.rb.uf!==this.b.H||this.b.rb.tf!==this.b.G)a.deleteTexture(this.b.rb),this.b.rb=a.vd(this.b.H,this.b.G,this.b.U);a.Hc(this.b.rb);this.b.Nb||a.ff(this.b.H,this.b.G)}else this.b.rb&&(a.Hc(null),a.deleteTexture(this.b.rb),
this.b.rb=null);this.b.ei&&!this.nl()&&a.clear(0,0,0,0);var b,h,g;b=0;for(h=this.F.length;b<h;b++)g=this.F[b],g.visible&&0<g.opacity&&(g.c.length||!g.hd)?g.vc(a):g.hk();e&&(0===this.N.length||1===this.N.length&&this.b.Nb?(1===this.N.length?(e=this.N[0].index,a.Ic(this.N[0].Ma),a.ef(null,1/this.b.H,1/this.b.G,0,0,1,1,this.scale,this.j,0,0,this.b.H/2,this.b.G/2,this.fa[e]),a.Dh(this.N[0].Ma)&&(this.b.Z=!0)):a.Ic(0),this.b.Nb||a.ff(this.b.width,this.b.height),a.Hc(null),a.mg(1),a.Sb(this.b.rb),a.Rm(),
a.Jd(),a.Qd(),e=this.b.width/2,b=this.b.height/2,a.Fh(-e,b,e,b,e,-b,-e,-b),a.Sb(null)):this.Pj(a,null,null,null))};p.prototype.Ef=function(){return 0<this.N.length||this.b.lf||!this.b.Nb?this.b.rb:null};p.prototype.kl=function(){var a=this.F[0].Yb(),e,b,h;e=1;for(b=this.F.length;e<b;e++)h=this.F[e],(0!==h.bd||0!==h.cd)&&h.Yb()<a&&(a=h.Yb());return a};p.prototype.Pm=function(a){if(!this.pn){var e=1/this.kl()*this.b.H/2;a>this.width-e&&(a=this.width-e);a<e&&(a=e)}this.scrollX!==a&&(this.scrollX=a,this.b.Z=
!0)};p.prototype.Qm=function(a){if(!this.pn){var e=1/this.kl()*this.b.G/2;a>this.height-e&&(a=this.height-e);a<e&&(a=e)}this.scrollY!==a&&(this.scrollY=a,this.b.Z=!0)};p.prototype.lo=function(){this.Pm(this.scrollX);this.Qm(this.scrollY)};p.prototype.Pj=function(a,e,b,h){var g=b?b.N:e?e.N:this.N,f=1,c=0,m=0,k=0,n=this.b.H,l=this.b.G;b?(f=b.e.Yb(),c=b.e.ya(),m=b.e.pa,k=b.e.qa,n=b.e.Ia,l=b.e.Ha):e&&(f=e.Yb(),c=e.ya(),m=e.pa,k=e.qa,n=e.Ia,l=e.Ha);var p=this.b.Mi,s,v,K,x,J=0,ra=1,U,w=this.b.H,t=this.b.G,
sa=w/2,D=t/2,E=e?e.Nj:this.Nj,B=e?e.Oj:this.Oj,G=0,H=0,C=0,M=0,I=w,ea=w,L=t,ka=t,aa=K=0,oa=b?b.e.ya():0;if(b){s=0;for(v=g.length;s<v;s++)K+=a.Bp(g[s].Ma),aa+=a.Cp(g[s].Ma);x=b.Sa;G=e.Pb(x.left,x.top,!0);C=e.Pb(x.left,x.top,!1);I=e.Pb(x.right,x.bottom,!0);L=e.Pb(x.right,x.bottom,!1);0!==oa&&(s=e.Pb(x.right,x.top,!0),v=e.Pb(x.right,x.top,!1),H=e.Pb(x.left,x.bottom,!0),M=e.Pb(x.left,x.bottom,!1),x=Math.min(G,I,s,H),I=Math.max(G,I,s,H),G=x,x=Math.min(C,L,v,M),L=Math.max(C,L,v,M),C=x);G-=K;C-=aa;I+=K;
L+=aa;B.left=G/w;B.top=1-C/t;B.right=I/w;B.bottom=1-L/t;H=G=Q(G);M=C=Q(C);ea=I=ta(I);ka=L=ta(L);H-=K;M-=aa;ea+=K;ka+=aa;0>G&&(G=0);0>C&&(C=0);I>w&&(I=w);L>t&&(L=t);0>H&&(H=0);0>M&&(M=0);ea>w&&(ea=w);ka>t&&(ka=t);E.left=G/w;E.top=1-C/t;E.right=I/w;E.bottom=1-L/t}else E.left=B.left=0,E.top=B.top=0,E.right=B.right=1,E.bottom=B.bottom=1;aa=b&&((b.j||oa)&&a.hg(g[0].Ma)||0!==K||0!==aa||1!==b.opacity||b.type.La.gm)||e&&!b&&1!==e.opacity;a.Rm();if(aa){p[J]||(p[J]=a.vd(w,t,this.b.U));if(p[J].uf!==w||p[J].tf!==
t)a.deleteTexture(p[J]),p[J]=a.vd(w,t,this.b.U);a.Ic(0);a.Hc(p[J]);U=ka-M;a.clearRect(H,t-M-U,ea-H,U);b?b.vc(a):(a.Sb(this.b.Cb),a.mg(e.opacity),a.Jd(),a.translate(-sa,-D),a.Qd(),a.we(G,L,I,L,I,C,G,C,E));B.left=B.top=0;B.right=B.bottom=1;b&&(x=E.top,E.top=E.bottom,E.bottom=x);J=1;ra=0}a.mg(1);K=g.length-1;var oa=a.Jj(g[K].Ma)||!e&&!b&&!this.b.Nb,X=0;s=0;for(v=g.length;s<v;s++){p[J]||(p[J]=a.vd(w,t,this.b.U));if(p[J].uf!==w||p[J].tf!==t)a.deleteTexture(p[J]),p[J]=a.vd(w,t,this.b.U);a.Ic(g[s].Ma);X=
g[s].index;a.Dh(g[s].Ma)&&(this.b.Z=!0);0!=s||aa?(a.ef(h,1/w,1/t,B.left,B.top,B.right,B.bottom,f,c,m,k,(m+n)/2,(k+l)/2,b?b.fa[X]:e?e.fa[X]:this.fa[X]),a.Sb(null),s!==K||oa?(a.Hc(p[J]),U=ka-M,x=t-M-U,a.clearRect(H,x,ea-H,U)):(b?a.Kd(b.Qa,b.Pa):e&&a.Kd(e.Qa,e.Pa),a.Hc(h)),a.Sb(p[ra]),a.Jd(),a.translate(-sa,-D),a.Qd(),a.we(G,L,I,L,I,C,G,C,E),s!==K||oa||a.Sb(null)):(a.Hc(p[J]),U=ka-M,x=t-M-U,a.clearRect(H,x,ea-H,U),b?(a.ef(h,1/b.width,1/b.height,B.left,B.top,B.right,B.bottom,f,c,m,k,(m+n)/2,(k+l)/2,b.fa[X]),
b.vc(a)):(a.ef(h,1/w,1/t,0,0,1,1,f,c,m,k,(m+n)/2,(k+l)/2,e?e.fa[X]:this.fa[X]),a.Sb(e?this.b.Cb:this.b.rb),a.Jd(),a.translate(-sa,-D),a.Qd(),a.we(G,L,I,L,I,C,G,C,E)),B.left=B.top=0,B.right=B.bottom=1,b&&!oa&&(x=L,L=C,C=x));J=0===J?1:0;ra=0===J?1:0}oa&&(a.Ic(0),b?a.Kd(b.Qa,b.Pa):e?a.Kd(e.Qa,e.Pa):this.b.Nb||(a.ff(this.b.width,this.b.height),sa=this.b.width/2,D=this.b.height/2,C=G=0,I=this.b.width,L=this.b.height),a.Hc(h),a.Sb(p[ra]),a.Jd(),a.translate(-sa,-D),a.Qd(),b&&1===g.length&&!aa?a.we(G,C,I,
C,I,L,G,L,E):a.we(G,L,I,L,I,C,G,C,E),a.Sb(null))};p.prototype.Vg=function(a){var e,b;e=0;for(b=this.F.length;e<b;e++)if(this.F[e].J===a)return this.F[e];return null};p.prototype.ic=function(){var a,e,b,h={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.Ie,persist:this.Hd,fx:[],layers:{}};a=0;for(e=this.B.length;a<e;a++)b=this.B[a],h.fx.push({name:b.name,active:b.yb,params:this.fa[b.index]});a=0;for(e=this.F.length;a<e;a++)b=this.F[a],h.layers[b.J.toString()]=
b.ic();return h};p.prototype.ad=function(a){var e,b,h,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.Hd=a.persist;"undefined"!==typeof a.fv&&(this.Ie=a.fv);var f=a.fx;e=0;for(b=f.length;e<b;e++)if(h=this.Oi(f[e].name))h.yb=f[e].active,this.fa[h.index]=f[e].params;this.jd();e=a.layers;for(g in e)e.hasOwnProperty(g)&&(a=this.Vg(parseInt(g,10)))&&a.ad(e[g])};Bb=p;a.prototype.jd=function(){this.N.length=0;var a,e,b;a=0;for(e=this.B.length;a<e;a++)b=
this.B[a],b.yb&&this.N.push(b)};a.prototype.Oi=function(a){var e,b,h;e=0;for(b=this.B.length;e<b;e++)if(h=this.B[e],h.name===a)return h;return null};a.prototype.to=function(){var a,e,b,h,g,f;e=a=0;for(b=this.Je.length;a<b;a++){h=this.Je[a];g=this.b.i[h[1]];f=this.b.fk(g);g=!0;if(!f||this.Ba.Ie)h=this.b.Zd(h,this,!0),n.push(h),h.type.global&&(g=!1);g&&(this.Je[e]=this.Je[a],e++)}this.Je.length=e;this.b.Na();!this.b.q&&this.B.length&&(this.Xa=this.Lo);this.xf=db(this.Xa);this.b.g&&eb(this,this.Xa,this.b.g);
this.dd=!0};a.prototype.df=function(a,e){var b=Aa(this.c,a);0>b||(e&&this.kc&&a.bb&&a.bb.right>=a.bb.left&&(a.Ra(),this.tb.update(a,a.bb,null),a.bb.set(0,0,-1,-1)),b===this.c.length-1?this.c.pop():(xa(this.c,b),this.ng(b)),this.dd=!0)};a.prototype.rf=function(a,e){a.lc=this.c.length;this.c.push(a);e&&this.kc&&a.bb&&a.Ga();this.dd=!0};a.prototype.Iq=function(a){this.c.unshift(a);this.ng(0)};a.prototype.pq=function(a,e,b){var h=a.zc();e=e.zc();xa(this.c,h);h<e&&e--;b&&e++;e===this.c.length?this.c.push(a):
this.c.splice(e,0,a);this.ng(h<e?h:e)};a.prototype.ng=function(a){-1===this.ld?this.ld=a:a<this.ld&&(this.ld=a);this.dd=this.ye=!0};a.prototype.ik=function(){if(this.ye){-1===this.ld&&(this.ld=0);var a,e,b;if(this.kc)for(a=this.ld,e=this.c.length;a<e;++a)b=this.c[a],b.lc=a,this.tb.nq(b.bb);else for(a=this.ld,e=this.c.length;a<e;++a)this.c[a].lc=a;this.ye=!1;this.ld=-1}};a.prototype.Yb=function(a){return this.yp()*(this.b.Nb||a?this.b.sf:1)};a.prototype.yp=function(){return(this.scale*this.Ba.scale-
1)*this.md+1};a.prototype.ya=function(){return this.ae?0:Fa(this.Ba.j+this.j)};var b=[],v=[],g=[];a.prototype.ll=function(){this.ik();this.tb.Km(this.pa,this.qa,this.Ia,this.Ha,g);if(!g.length)return f();if(1===g.length){var a=f();ya(a,g[0]);g.length=0;return a}for(var e=!0;1<g.length;){for(var a=g,b=void 0,h=void 0,k=void 0,n=void 0,c=void 0,b=0,h=a.length;b<h-1;b+=2){var k=a[b],n=a[b+1],c=f(),m=k,q=n,l=c,p=0,F=0,Z=0,ia=m.length,K=q.length,x=void 0,J=void 0;for(l.length=ia+K;p<ia&&F<K;++Z)x=m[p],
J=q[F],x.lc<J.lc?(l[Z]=x,++p):(l[Z]=J,++F);for(;p<ia;++p,++Z)l[Z]=m[p];for(;F<K;++F,++Z)l[Z]=q[F];e||(s(k),s(n));v.push(c)}1===h%2&&(e?(k=f(),ya(k,a[h-1]),v.push(k)):v.push(a[h-1]));ya(a,v);v.length=0;e=!1}a=g[0];g.length=0;return a};a.prototype.be=function(a){this.Id=this.Ji||1!==this.opacity||0!==this.Xa;var b=this.b.canvas,g=a,h=!1;this.Id&&(this.b.mh||(this.b.mh=document.createElement("canvas"),b=this.b.mh,b.width=this.b.H,b.height=this.b.G,this.b.Jl=b.getContext("2d"),h=!0),b=this.b.mh,g=this.b.Jl,
b.width!==this.b.H&&(b.width=this.b.H,h=!0),b.height!==this.b.G&&(b.height=this.b.G,h=!0),h&&(g.webkitImageSmoothingEnabled=this.b.U,g.mozImageSmoothingEnabled=this.b.U,g.msImageSmoothingEnabled=this.b.U,g.imageSmoothingEnabled=this.b.U),this.hd&&g.clearRect(0,0,this.b.H,this.b.G));g.globalAlpha=1;g.globalCompositeOperation="source-over";this.hd||(g.fillStyle="rgb("+this.rd[0]+","+this.rd[1]+","+this.rd[2]+")",g.fillRect(0,0,this.b.H,this.b.G));g.save();this.ae=!0;var h=this.kb(0,0,!0,!0),f=this.kb(0,
0,!1,!0);this.ae=!1;this.b.$e&&(h=Math.round(h),f=Math.round(f));this.Rj(h,f,g);var k=this.Yb();g.scale(k,k);g.translate(-h,-f);this.kc?(this.Kb.left=this.tb.wb(this.pa),this.Kb.top=this.tb.xb(this.qa),this.Kb.right=this.tb.wb(this.Ia),this.Kb.bottom=this.tb.xb(this.Ha),this.dd||!this.Kb.Mg(this.kh)?(s(this.Re),h=this.ll(),this.dd=!1,this.kh.Dg(this.Kb)):h=this.Re):h=this.c;for(var c,m=null,f=0,k=h.length;f<k;++f)c=h[f],c!==m&&(this.Io(c,g),m=c);this.kc&&(this.Re=h);g.restore();this.Id&&(a.globalCompositeOperation=
this.xf,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};a.prototype.Io=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ra();var g=a.Sa;g.right<this.pa||g.bottom<this.qa||g.left>this.Ia||g.top>this.Ha||(b.globalCompositeOperation=a.xf,a.be(b))}};a.prototype.hk=function(){this.ae=!0;var a=this.kb(0,0,!0,!0),b=this.kb(0,0,!1,!0);this.ae=!1;this.b.$e&&(a=Math.round(a),b=Math.round(b));this.Rj(a,b,null)};a.prototype.Rj=function(a,b,g){var h=this.Yb();this.pa=a;this.qa=b;this.Ia=a+1/h*this.b.H;
this.Ha=b+1/h*this.b.G;a=this.ya();0!==a&&(g&&(g.translate(this.b.H/2,this.b.G/2),g.rotate(-a),g.translate(this.b.H/-2,this.b.G/-2)),this.gd.set(this.pa,this.qa,this.Ia,this.Ha),this.gd.offset((this.pa+this.Ia)/-2,(this.qa+this.Ha)/-2),this.hn.Um(this.gd,a),this.hn.Fk(this.gd),this.gd.offset((this.pa+this.Ia)/2,(this.qa+this.Ha)/2),this.pa=this.gd.left,this.qa=this.gd.top,this.Ia=this.gd.right,this.Ha=this.gd.bottom)};a.prototype.vc=function(a){var b=0,g=0;if(this.Id=this.Ji||1!==this.opacity||0<
this.N.length||0!==this.Xa){this.b.Cb||(this.b.Cb=a.vd(this.b.H,this.b.G,this.b.U));if(this.b.Cb.uf!==this.b.H||this.b.Cb.tf!==this.b.G)a.deleteTexture(this.b.Cb),this.b.Cb=a.vd(this.b.H,this.b.G,this.b.U);a.Hc(this.b.Cb);this.hd&&a.clear(0,0,0,0)}this.hd||a.clear(this.rd[0]/255,this.rd[1]/255,this.rd[2]/255,1);this.ae=!0;var h=this.kb(0,0,!0,!0),b=this.kb(0,0,!1,!0);this.ae=!1;this.b.$e&&(h=Math.round(h),b=Math.round(b));this.Rj(h,b,null);h=this.Yb();a.Jd();a.scale(h,h);a.Nm(-this.ya());a.translate((this.pa+
this.Ia)/-2,(this.qa+this.Ha)/-2);a.Qd();this.kc?(this.Kb.left=this.tb.wb(this.pa),this.Kb.top=this.tb.xb(this.qa),this.Kb.right=this.tb.wb(this.Ia),this.Kb.bottom=this.tb.xb(this.Ha),this.dd||!this.Kb.Mg(this.kh)?(s(this.Re),b=this.ll(),this.dd=!1,this.kh.Dg(this.Kb)):b=this.Re):b=this.c;var f,k,c=null,g=0;for(f=b.length;g<f;++g)k=b[g],k!==c&&(this.Jo(b[g],a),c=k);this.kc&&(this.Re=b);this.Id&&(b=this.N.length?this.N[0].Ma:0,g=this.N.length?this.N[0].index:0,0===this.N.length||1===this.N.length&&
!a.Jj(b)&&1===this.opacity?(1===this.N.length?(a.Ic(b),a.ef(this.Ba.Ef(),1/this.b.H,1/this.b.G,0,0,1,1,h,this.ya(),this.pa,this.qa,(this.pa+this.Ia)/2,(this.qa+this.Ha)/2,this.fa[g]),a.Dh(b)&&(this.b.Z=!0)):a.Ic(0),a.Hc(this.Ba.Ef()),a.mg(this.opacity),a.Sb(this.b.Cb),a.Kd(this.Qa,this.Pa),a.Jd(),a.Qd(),h=this.b.H/2,b=this.b.G/2,a.Fh(-h,b,h,b,h,-b,-h,-b),a.Sb(null)):this.Ba.Pj(a,this,null,this.Ba.Ef()))};a.prototype.Jo=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ra();var g=a.Sa;g.right<
this.pa||g.bottom<this.qa||g.left>this.Ia||g.top>this.Ha||(a.vn?this.Ko(a,b):(b.Ic(0),b.Kd(a.Qa,a.Pa),a.vc(b)))}};a.prototype.Ko=function(a,b){var g=a.N[0].Ma,h=a.N[0].index,f=this.Yb();if(1!==a.N.length||b.Jj(g)||b.Kq(g)||(a.j||a.e.ya())&&b.hg(g)||1!==a.opacity||a.type.La.gm)this.Ba.Pj(b,this,a,this.Id?this.b.Cb:this.Ba.Ef()),b.Jd(),b.scale(f,f),b.Nm(-this.ya()),b.translate((this.pa+this.Ia)/-2,(this.qa+this.Ha)/-2),b.Qd();else{b.Ic(g);b.Kd(a.Qa,a.Pa);b.Dh(g)&&(this.b.Z=!0);var k=0,c=0,m=0,q=0;b.hg(g)&&
(g=a.Sa,k=this.Pb(g.left,g.top,!0),c=this.Pb(g.left,g.top,!1),m=this.Pb(g.right,g.bottom,!0),g=this.Pb(g.right,g.bottom,!1),k/=windowWidth,c=1-c/windowHeight,m/=windowWidth,q=1-g/windowHeight);b.ef(this.Id?this.b.Cb:this.Ba.Ef(),1/a.width,1/a.height,k,c,m,q,f,this.ya(),this.pa,this.qa,(this.pa+this.Ia)/2,(this.qa+this.Ha)/2,a.fa[h]);a.vc(b)}};a.prototype.kb=function(a,b,g,h){var f=this.b.devicePixelRatio;this.b.Le&&(a*=f,b*=f);var f=this.b.Am,k=this.b.Bm,f=(this.Ba.scrollX-f)*this.bd+f,k=(this.Ba.scrollY-
k)*this.cd+k,c=f,m=k,q=1/this.Yb(!h);h?(c-=this.b.H*q/2,m-=this.b.G*q/2):(c-=this.b.width*q/2,m-=this.b.height*q/2);c+=a*q;m+=b*q;b=this.ya();0!==b&&(c-=f,m-=k,a=Math.cos(b),b=Math.sin(b),h=c*a-m*b,m=m*a+c*b,c=h+f,m+=k);return g?c:m};a.prototype.Pb=function(a,b,g){var h=this.b.Am,f=this.b.Bm,h=(this.Ba.scrollX-h)*this.bd+h,k=(this.Ba.scrollY-f)*this.cd+f,f=h,c=k,m=this.ya();if(0!==m){a-=h;b-=k;var q=Math.cos(-m),m=Math.sin(-m),n=a*q-b*m;b=b*q+a*m;a=n+h;b+=k}h=1/this.Yb(!1);f-=this.b.H*h/2;c-=this.b.G*
h/2;f=(a-f)/h;return g?f:(b-c)/h};a.prototype.ic=function(){var a,b,g,h={s:this.scale,a:this.j,vl:this.pa,vt:this.qa,vr:this.Ia,vb:this.Ha,v:this.visible,bc:this.rd,t:this.hd,px:this.bd,py:this.cd,o:this.opacity,zr:this.md,fx:[],instances:[]};a=0;for(b=this.B.length;a<b;a++)g=this.B[a],h.fx.push({name:g.name,active:g.yb,params:this.fa[g.index]});return h};a.prototype.ad=function(a){var b,g;this.scale=a.s;this.j=a.a;this.pa=a.vl;this.qa=a.vt;this.Ia=a.vr;this.Ha=a.vb;this.visible=a.v;this.rd=a.bc;
this.hd=a.t;this.bd=a.px;this.cd=a.py;this.opacity=a.o;this.md=a.zr;var h=a.fx;a=0;for(b=h.length;a<b;a++)if(g=this.Oi(h[a].name))g.yb=h[a].active,this.fa[g.index]=h[a].params;this.jd();this.c.sort(l);this.ye=!0};Pb=a})();
(function(){function p(a,b){var d,h=a.length;switch(h){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<h;d++)if(a[d]!==b[d])return!1;return!0}}function l(a,b){return a.index-b.index}function a(a){var b,d,g,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(l);a.length>=h.length&&(h.length=a.length+1);h[a.length]||(h[a.length]=[]);e=h[a.length];b=0;for(d=e.length;b<d;b++)if(g=e[b],p(a,g))return g;e.push(a);return a}
function f(a,b){this.b=a;this.ln={};this.Zk={};this.$i=!1;this.pl=new ca;this.xi=[];this.fi=[];this.name=b[0];var d=b[1];this.wd=[];var h,g;h=0;for(g=d.length;h<g;h++)this.rl(d[h],null,this.wd)}function s(a){this.type=a;this.c=[];this.O=[];this.ba=!0}function n(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.Ld=[];this.ol=this.Vh=this.ck=this.dj=this.group=this.$m=!1;this.Oa=[];this.Wb=[];this.Ub=[];this.Gf="";this.Yg=this.dj=this.group=!1;this.Pk=null;d[1]&&(this.Gf=d[1][1].toLowerCase(),
this.group=!0,this.dj=!!d[1][0],this.Pk=[],this.Yg=this.dj,this.b.De.push(this),this.b.Zg[this.Gf]=this);this.Dc=d[2];this.J=d[4];this.group||(this.b.Ek[this.J.toString()]=this);var h=d[5];a=0;for(b=h.length;a<b;a++){var g=new Qb(this,h[a]);g.index=a;this.Oa.push(g);this.tk(g.type)}h=d[6];a=0;for(b=h.length;a<b;a++)g=new Rb(this,h[a]),g.index=a,this.Wb.push(g);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.rl(d[a],this,this.Ub);this.fh=!1;this.Oa.length&&(this.fh=null==this.Oa[0].type&&
this.Oa[0].Ja==Y.prototype.A.Cn)}function k(a,b){var d,h,g;if(a&&(-1===b.indexOf(a)&&b.push(a),a.ac))for(d=0,h=a.lb.length;d<h;d++)g=a.lb[d],a!==g&&-1===b.indexOf(g)&&b.push(g)}function b(a,b){this.zb=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.W=[];this.P={};this.index=-1;this.pf=!1;this.Ja=this.b.nd(b[1]);this.trigger=0<b[3];this.Yk=2===b[3];this.Cc=b[4];this.gj=b[5];this.jq=b[6];this.J=b[7];this.b.Fe[this.J.toString()]=this;-1===b[0]?(this.type=null,this.wa=this.Uj,this.Xd=null,this.Gb=-1):
(this.type=this.b.i[b[0]],this.wa=this.jq?this.Uq:this.Tj,b[2]?(this.Xd=this.type.Ug(b[2]),this.Gb=this.type.Ni(b[2])):(this.Xd=null,this.Gb=-1),this.zb.parent&&this.zb.parent.Kh());this.Yk&&(this.wa=this.Vq);if(10===b.length){var d,h,g=b[9];d=0;for(h=g.length;d<h;d++){var e=new Sb(this,g[d]);this.C.push(e)}this.W.length=g.length}}function v(a,b){this.zb=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.W=[];this.P={};this.index=-1;this.pf=!1;this.Ja=this.b.nd(b[1]);-1===b[0]?(this.type=null,this.wa=
this.Uj,this.Xd=null,this.Gb=-1):(this.type=this.b.i[b[0]],this.wa=this.Tj,b[2]?(this.Xd=this.type.Ug(b[2]),this.Gb=this.type.Ni(b[2])):(this.Xd=null,this.Gb=-1));this.J=b[3];this.b.Ce[this.J.toString()]=this;if(6===b.length){var d,h,g=b[5];d=0;for(h=g.length;d<h;d++){var e=new Sb(this,g[d]);this.C.push(e)}this.W.length=g.length}}function g(a,b){this.m=a;this.zb=a.zb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.wc=null;this.Md=0;this.get=null;this.Ok=0;this.Ba=null;this.key=0;this.object=null;
this.index=0;this.vg=this.xe=this.vg=this.xe=this.$k=this.fe=this.wg=null;this.Vb=!1;var d,h,g;switch(b[0]){case 0:case 7:this.wc=new V(this,b[1]);this.Md=0;this.get=this.Ip;break;case 1:this.wc=new V(this,b[1]);this.Md=0;this.get=this.Jp;break;case 5:this.wc=new V(this,b[1]);this.Md=0;this.get=this.Np;break;case 3:case 8:this.Ok=b[1];this.get=this.Gp;break;case 6:this.Ba=this.b.pj[b[1]];this.get=this.Op;break;case 9:this.key=b[1];this.get=this.Mp;break;case 4:this.object=this.b.i[b[1]];this.get=
this.Pp;this.zb.tk(this.object);this.m instanceof Rb?this.zb.Kh():this.zb.parent&&this.zb.parent.Kh();break;case 10:this.index=b[1];a.type.L?(this.get=this.Kp,this.Vb=!0):this.get=this.Lp;break;case 11:this.wg=b[1];this.fe=null;this.get=this.Hp;break;case 2:case 12:this.$k=b[1];this.get=this.Fp;break;case 13:for(this.get=this.Qp,this.xe=[],this.vg=[],d=1,h=b.length;d<h;d++)g=new Sb(this.m,b[d]),this.xe.push(g),this.vg.push(0)}}function d(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.name=
d[1];this.wn=d[2];this.cj=d[3];this.Qf=!!d[4];this.eh=!!d[5];this.J=d[6];this.b.nf[this.J.toString()]=this;this.data=this.cj;this.parent?(this.ue=this.Qf||this.eh?-1:this.b.dr++,this.b.ho.push(this)):(this.ue=-1,this.b.fo.push(this))}function e(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.If=null;this.Xp=d[1];this.yb=!0}function r(){this.bn=[];this.reset(null)}var h=[];f.prototype.toString=function(){return this.name};f.prototype.rl=function(a,b,d){switch(a[0]){case 0:a=new Tb(this,
b,a);if(a.Dc)for(d.push(a),d=0,b=a.Oa.length;d<b;d++)a.Oa[d].trigger&&this.sl(a,d);else a.Cl()?this.sl(a,0):d.push(a);break;case 1:a=new Mb(this,b,a);d.push(a);break;case 2:a=new Ub(this,b,a),d.push(a)}};f.prototype.ja=function(){var a,b;a=0;for(b=this.wd.length;a<b;a++)this.wd[a].ja(a<b-1&&this.wd[a+1].fh)};f.prototype.tn=function(){this.xi.length=0;this.fi.length=0;this.sk(this);this.fi.length=0};f.prototype.sk=function(a){var b,d,h,g,e=a.xi,f=a.fi,k=this.pl.Rd();b=0;for(d=k.length;b<d;++b)h=k[b],
g=h.If,!h.yb||a===g||-1<f.indexOf(g)||(f.push(g),g.sk(a),e.push(g))};f.prototype.wa=function(a){this.b.Ks||(this.$i=!0,a||(this.b.jj=!0));var b,d;b=0;for(d=this.wd.length;b<d;b++){var h=this.wd[b];h.wa();this.b.qi(h.ca);this.b.yd&&this.b.Na()}a||(this.b.jj=!1)};f.prototype.sl=function(a,b){a.Dc||this.b.Xh.push(a);var d,h,g=a.Oa[b],e;e=g.type?g.type.name:"system";var f=(d=g.Yk)?this.Zk:this.ln;f[e]||(f[e]=[]);e=f[e];f=g.Ja;if(d){if(g.C.length&&(g=g.C[0],1===g.type&&2===g.wc.type)){g=g.wc.value.toLowerCase();
d=0;for(h=e.length;d<h;d++)if(e[d].method==f){d=e[d].Bf;d[g]?d[g].push([a,b]):d[g]=[[a,b]];return}d={};d[g]=[[a,b]];e.push({method:f,Bf:d})}}else{d=0;for(h=e.length;d<h;d++)if(e[d].method==f){e[d].Bf.push([a,b]);return}gc&&f===gc.prototype.A.Be?e.unshift({method:f,Bf:[[a,b]]}):e.push({method:f,Bf:[[a,b]]})}};Cb=f;s.prototype.Zi=function(){return this.ba?this.type.c.length:this.c.length};s.prototype.yc=function(){return this.ba?this.type.c:this.c};s.prototype.gg=function(a){a&&(a.b.Za().Ab.Dc?(this.ba&&
(this.c.length=0,ya(this.O,a.type.c),this.ba=!1),a=this.O.indexOf(a),-1!==a&&(this.c.push(this.O[a]),this.O.splice(a,1))):(this.ba=!1,this.c.length=1,this.c[0]=a))};kb=s;window._c2hh_="";n.prototype.ja=function(c){var b,d=this.parent;if(this.group)for(this.Vh=!0;d;){if(!d.group){this.Vh=!1;break}d=d.parent}this.ck=!this.Cl()&&(!this.parent||this.parent.group&&this.parent.Vh);this.ol=!!c;this.Ld=this.ca.slice(0);for(d=this.parent;d;){c=0;for(b=d.ca.length;c<b;c++)this.co(d.ca[c]);d=d.parent}this.ca=
a(this.ca);this.Ld=a(this.Ld);c=0;for(b=this.Oa.length;c<b;c++)this.Oa[c].ja();c=0;for(b=this.Wb.length;c<b;c++)this.Wb[c].ja();c=0;for(b=this.Ub.length;c<b;c++)this.Ub[c].ja(c<b-1&&this.Ub[c+1].fh)};n.prototype.tk=function(a){k(a,this.ca)};n.prototype.co=function(a){k(a,this.Ld)};n.prototype.Kh=function(){this.$m=!0;this.parent&&this.parent.Kh()};n.prototype.Cl=function(){return this.Oa.length?this.Oa[0].trigger:!1};n.prototype.wa=function(){var a,b=!1,d,g=this.b,h=this.b.Za();h.Ab=this;var e=this.Oa;
this.fh||(h.Bi=!1);if(this.Dc){0===e.length&&(b=!0);h.Ya=0;for(a=e.length;h.Ya<a;h.Ya++)e[h.Ya].trigger||(d=e[h.Ya].wa())&&(b=!0);(h.qe=b)&&this.Sj()}else{h.Ya=0;for(a=e.length;h.Ya<a;h.Ya++)if(d=e[h.Ya].wa(),!d){h.qe=!1;this.ck&&g.yd&&g.Na();return}h.qe=!0;this.Sj()}this.No(h)};n.prototype.No=function(a){a.qe&&this.ol&&(a.Bi=!0);this.ck&&this.b.yd&&this.b.Na()};n.prototype.Sq=function(a){this.b.Za().Ab=this;this.Oa[a].wa()&&(this.Sj(),this.b.Za().qe=!0)};n.prototype.Sj=function(){var a=this.b.Za(),
b;a.hb=0;for(b=this.Wb.length;a.hb<b;a.hb++)if(this.Wb[a.hb].wa())return;this.Om()};n.prototype.Qq=function(){var a=this.b.Za(),b;for(b=this.Wb.length;a.hb<b;a.hb++)if(this.Wb[a.hb].wa())return;this.Om()};n.prototype.Om=function(){if(this.Ub.length){var a,b,d,h,g=this.Ub.length-1;this.b.Lj(this);if(this.$m)for(a=0,b=this.Ub.length;a<b;a++)d=this.Ub[a],(h=!this.Vh||!this.group&&a<g)&&this.b.Kj(d.ca),d.wa(),h?this.b.bf(d.ca):this.b.qi(d.ca);else for(a=0,b=this.Ub.length;a<b;a++)this.Ub[a].wa();this.b.Em()}};
n.prototype.Tq=function(){var a=this.b.Za();a.Ab=this;var b=!1,d;a.Ya=0;for(d=this.Oa.length;a.Ya<d;a.Ya++)if(this.Oa[a.Ya].wa())b=!0;else if(!this.Dc)return!1;return this.Dc?b:!0};n.prototype.cq=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Oa[b].type===a.type)return!1;return!0};Tb=n;b.prototype.ja=function(){var a,b,d;a=0;for(b=this.C.length;a<b;a++)d=this.C[a],d.ja(),d.Vb&&(this.pf=!0)};b.prototype.Vq=function(){return!0};b.prototype.Uj=function(){var a,b;a=0;for(b=this.C.length;a<
b;a++)this.W[a]=this.C[a].get();return Sa(this.Ja.apply(this.b.Jc,this.W),this.gj)};b.prototype.Uq=function(){var a,b;a=0;for(b=this.C.length;a<b;a++)this.W[a]=this.C[a].get();a=this.Ja.apply(this.Xd?this.Xd:this.type,this.W);this.type.qd();return a};b.prototype.Tj=function(){var a,b,d,h,g,e,f,k,n=this.type,l=n.Y(),p=this.zb.Dc&&!this.trigger;b=0;var r=n.ac,u=n.L,s=n.Uc,A=this.Gb,v=-1<A,D=this.pf,E=this.C,B=this.W,G=this.gj,H=this.Ja,C;if(D)for(b=0,g=E.length;b<g;++b)e=E[b],e.Vb||(B[b]=e.get(0));
else for(b=0,g=E.length;b<g;++b)B[b]=E[b].get(0);if(l.ba){l.c.length=0;l.O.length=0;C=n.c;a=0;for(h=C.length;a<h;++a){k=C[a];if(D)for(b=0,g=E.length;b<g;++b)e=E[b],e.Vb&&(B[b]=e.get(a));v?(b=0,u&&(b=k.type.He[s]),b=H.apply(k.D[A+b],B)):b=H.apply(k,B);(f=Sa(b,G))?l.c.push(k):p&&l.O.push(k)}n.finish&&n.finish(!0);l.ba=!1;n.qd();return l.Zi()}d=0;C=(f=p&&!this.zb.cq(this))?l.O:l.c;var M=!1;a=0;for(h=C.length;a<h;++a){k=C[a];if(D)for(b=0,g=E.length;b<g;++b)e=E[b],e.Vb&&(B[b]=e.get(a));v?(b=0,u&&(b=k.type.He[s]),
b=H.apply(k.D[A+b],B)):b=H.apply(k,B);if(Sa(b,G))if(M=!0,f){if(l.c.push(k),r)for(b=0,g=k.siblings.length;b<g;b++)e=k.siblings[b],e.type.Y().c.push(e)}else{C[d]=k;if(r)for(b=0,g=k.siblings.length;b<g;b++)e=k.siblings[b],e.type.Y().c[d]=e;d++}else if(f){C[d]=k;if(r)for(b=0,g=k.siblings.length;b<g;b++)e=k.siblings[b],e.type.Y().O[d]=e;d++}else if(p&&(l.O.push(k),r))for(b=0,g=k.siblings.length;b<g;b++)e=k.siblings[b],e.type.Y().O.push(e)}C.length=d;if(r)for(u=n.lb,a=0,h=u.length;a<h;a++)k=u[a].Y(),f?
k.O.length=d:k.c.length=d;d=M;if(f&&!M)for(a=0,h=l.c.length;a<h;a++){k=l.c[a];if(D)for(b=0,g=E.length;b<g;b++)e=E[b],e.Vb&&(B[b]=e.get(a));b=v?H.apply(k.D[A],B):H.apply(k,B);if(Sa(b,G)){M=!0;break}}n.finish&&n.finish(d||p);return p?M:l.Zi()};Qb=b;v.prototype.ja=function(){var a,b,d;a=0;for(b=this.C.length;a<b;a++)d=this.C[a],d.ja(),d.Vb&&(this.pf=!0)};v.prototype.Uj=function(){var a,b;a=0;for(b=this.C.length;a<b;a++)this.W[a]=this.C[a].get();return this.Ja.apply(this.b.Jc,this.W)};v.prototype.Tj=
function(){var a=this.type.Y().yc(),b=this.type.L,d=this.type.Uc,g=this.Gb,h=-1<g,e=this.pf,f=this.C,k=this.W,n=this.Ja,l,p,r,u,s,A;if(e)for(p=0,u=f.length;p<u;++p)s=f[p],s.Vb||(k[p]=s.get(0));else for(p=0,u=f.length;p<u;++p)k[p]=f[p].get(0);l=0;for(r=a.length;l<r;++l){A=a[l];if(e)for(p=0,u=f.length;p<u;++p)s=f[p],s.Vb&&(k[p]=s.get(l));h?(p=0,b&&(p=A.type.He[d]),n.apply(A.D[g+p],k)):n.apply(A,k)}return!1};Rb=v;var u=[],A=-1;g.prototype.ja=function(){var a,b;if(11===this.type)this.fe=this.b.hl(this.wg,
this.zb.parent);else if(13===this.type)for(a=0,b=this.xe.length;a<b;a++)this.xe[a].ja();this.wc&&this.wc.ja()};g.prototype.oq=function(a){this.Vb||!a||a.La.Nh||(this.Vb=!0)};g.prototype.Tm=function(){this.Vb=!0};g.prototype.va=function(){A++;u.length===A&&u.push(new Vb);return u[A]};g.prototype.na=function(){A--};g.prototype.Ip=function(a){this.Md=a||0;a=this.va();this.wc.get(a);this.na();return a.data};g.prototype.Jp=function(a){this.Md=a||0;a=this.va();this.wc.get(a);this.na();return P(a.data)?
a.data:""};g.prototype.Pp=function(){return this.object};g.prototype.Gp=function(){return this.Ok};g.prototype.Np=function(a){this.Md=a||0;a=this.va();this.wc.get(a);this.na();return a.Aa()?this.b.Df(a.data):this.b.Ri(a.data)};g.prototype.Op=function(){return this.Ba};g.prototype.Mp=function(){return this.key};g.prototype.Lp=function(){return this.index};g.prototype.Kp=function(a){a=a||0;var b=this.m.type,d=null,d=b.Y(),g=d.yc();if(g.length)d=g[a%g.length].type;else if(d.O.length)d=d.O[a%d.O.length].type;
else if(b.c.length)d=b.c[a%b.c.length].type;else return 0;return this.index+d.Pg[b.Uc]};g.prototype.Hp=function(){return this.fe};g.prototype.Fp=function(){return this.$k};g.prototype.Qp=function(){var a,b;a=0;for(b=this.xe.length;a<b;a++)this.vg[a]=this.xe[a].get();return this.vg};Sb=g;d.prototype.ja=function(){this.ca=a(this.ca)};d.prototype.Lh=function(a){var b=this.b.fl();this.parent&&!this.Qf&&b?(this.ue>=b.length&&(b.length=this.ue+1),b[this.ue]=a):this.data=a};d.prototype.Ep=function(){var a=
this.b.fl();return!this.parent||this.Qf||!a||this.eh?this.data:this.ue>=a.length||"undefined"===typeof a[this.ue]?this.cj:a[this.ue]};d.prototype.wa=function(){!this.parent||this.Qf||this.eh||this.Lh(this.cj)};Mb=d;e.prototype.toString=function(){return"include:"+this.If.toString()};e.prototype.ja=function(){this.If=this.b.Di[this.Xp];this.sheet.pl.add(this);this.ca=a(this.ca);for(var c=this.parent;c;)c.group&&c.Pk.push(this),c=c.parent;this.mr()};e.prototype.wa=function(){this.parent&&this.b.ig(this.b.i);
this.If.$i||this.If.wa(!0);this.parent&&this.b.bf(this.b.i)};e.prototype.mr=function(){for(var a=this.parent;a;){if(a.group&&!a.Yg){this.yb=!1;return}a=a.parent}this.yb=!0};Ub=e;r.prototype.reset=function(a){this.Ab=a;this.hb=this.Ya=0;this.bn.length=0;this.Bi=this.qe=!1};Lb=r})();
(function(){function p(a,f){this.m=a;this.b=a.b;this.type=f[0];this.get=[this.Zo,this.Vo,this.hp,this.kp,this.Po,this.ip,this.dp,this.So,this.cp,this.gp,this.Qo,this.fp,this.To,this.ep,this.$o,this.bp,this.Wo,this.Xo,this.Ro,this.jp,this.Wk,this.Yo,this.Wk,this.Uo][this.type];var l=null;this.ab=this.C=this.W=this.Ja=this.Rh=this.Fa=this.first=this.value=null;this.Gb=-1;this.Wc=null;this.kk=-1;this.fe=this.wg=null;this.jg=!1;switch(this.type){case 0:case 1:case 2:this.value=f[1];break;case 3:this.first=
new V(a,f[1]);break;case 18:this.first=new V(a,f[1]);this.Fa=new V(a,f[2]);this.Rh=new V(a,f[3]);break;case 19:this.Ja=this.b.nd(f[1]);this.Ja!==Y.prototype.Mb.random&&this.Ja!==Y.prototype.Mb.Mk||this.m.Tm();this.W=[];this.C=[];3===f.length?(l=f[2],this.W.length=l.length+1):this.W.length=1;break;case 20:this.ab=this.b.i[f[1]];this.Gb=-1;this.Ja=this.b.nd(f[2]);this.jg=f[3];Xb.Function&&this.Ja===Xb.Function.prototype.Mb.Br&&this.m.Tm();this.Wc=f[4]?new V(a,f[4]):null;this.W=[];this.C=[];6===f.length?
(l=f[5],this.W.length=l.length+1):this.W.length=1;break;case 21:this.ab=this.b.i[f[1]];this.jg=f[2];this.Wc=f[3]?new V(a,f[3]):null;this.kk=f[4];break;case 22:this.ab=this.b.i[f[1]];this.ab.Ug(f[2]);this.Gb=this.ab.Ni(f[2]);this.Ja=this.b.nd(f[3]);this.jg=f[4];this.Wc=f[5]?new V(a,f[5]):null;this.W=[];this.C=[];7===f.length?(l=f[6],this.W.length=l.length+1):this.W.length=1;break;case 23:this.wg=f[1],this.fe=null}this.m.oq(this.ab);4<=this.type&&17>=this.type&&(this.first=new V(a,f[1]),this.Fa=new V(a,
f[2]));if(l){var n,k;n=0;for(k=l.length;n<k;n++)this.C.push(new V(a,l[n]))}}function l(a,f){this.type=a||W.Ae;this.data=f||0;this.We=null;this.type==W.Ae&&(this.data=Math.floor(this.data))}p.prototype.ja=function(){23===this.type&&(this.fe=this.m.b.hl(this.wg,this.m.zb.parent));this.first&&this.first.ja();this.Fa&&this.Fa.ja();this.Rh&&this.Rh.ja();this.Wc&&this.Wc.ja();if(this.C){var a,f;a=0;for(f=this.C.length;a<f;a++)this.C[a].ja()}};p.prototype.jp=function(a){this.W[0]=a;a=this.m.va();var f,l;
f=0;for(l=this.C.length;f<l;f++)this.C[f].get(a),this.W[f+1]=a.data;this.m.na();this.Ja.apply(this.b.Jc,this.W)};p.prototype.Wk=function(a){var f=this.ab.Y(),l=f.yc();if(!l.length)if(f.O.length)l=f.O;else{this.jg?a.Db(""):a.X(0);return}this.W[0]=a;a.We=this.ab;a=this.m.va();var n,f=0;for(n=this.C.length;f<n;f++)this.C[f].get(a),this.W[f+1]=a.data;f=this.m.Md;this.Wc&&(this.Wc.get(a),a.Aa()&&(f=a.data,l=this.ab.c));this.m.na();f%=l.length;0>f&&(f+=l.length);l=l[f];-1<this.Gb?(a=0,this.ab.L&&(a=l.type.He[this.ab.Uc]),
this.Ja.apply(l.D[this.Gb+a],this.W)):this.Ja.apply(l,this.W)};p.prototype.Yo=function(a){var f=this.ab.Y(),l=f.yc();if(!l.length)if(f.O.length)l=f.O;else{this.jg?a.Db(""):a.X(0);return}f=this.m.Md;if(this.Wc){var n=this.m.va();this.Wc.get(n);if(n.Aa()){f=n.data;l=this.ab.c;f%=l.length;0>f&&(f+=l.length);l=l[f].ra[this.kk];P(l)?a.Db(l):a.n(l);this.m.na();return}this.m.na()}f%=l.length;0>f&&(f+=l.length);l=l[f];f=0;this.ab.L&&(f=l.type.Pg[this.ab.Uc]);l=l.ra[this.kk+f];P(l)?a.Db(l):a.n(l)};p.prototype.Zo=
function(a){a.type=W.Ae;a.data=this.value};p.prototype.Vo=function(a){a.type=W.ze;a.data=this.value};p.prototype.hp=function(a){a.type=W.String;a.data=this.value};p.prototype.kp=function(a){this.first.get(a);a.Aa()&&(a.data=-a.data)};p.prototype.Po=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.Aa()&&f.Aa()&&(a.data+=f.data,f.Ne()&&a.Ue());this.m.na()};p.prototype.ip=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.Aa()&&f.Aa()&&(a.data-=f.data,f.Ne()&&a.Ue());this.m.na()};
p.prototype.dp=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.Aa()&&f.Aa()&&(a.data*=f.data,f.Ne()&&a.Ue());this.m.na()};p.prototype.So=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.Aa()&&f.Aa()&&(a.data/=f.data,a.Ue());this.m.na()};p.prototype.cp=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.Aa()&&f.Aa()&&(a.data%=f.data,f.Ne()&&a.Ue());this.m.na()};p.prototype.gp=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.Aa()&&f.Aa()&&
(a.data=Math.pow(a.data,f.data),f.Ne()&&a.Ue());this.m.na()};p.prototype.Qo=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.Aa()?f.gh()?a.Db(a.data.toString()+f.data):a.data&&f.data?a.X(1):a.X(0):a.gh()&&(a.data=f.gh()?a.data+f.data:a.data+(Math.round(1E10*f.data)/1E10).toString());this.m.na()};p.prototype.fp=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.Aa()&&f.Aa()&&(a.data||f.data?a.X(1):a.X(0));this.m.na()};p.prototype.Ro=function(a){this.first.get(a);a.data?
this.Fa.get(a):this.Rh.get(a)};p.prototype.To=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.X(a.data===f.data?1:0);this.m.na()};p.prototype.ep=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.X(a.data!==f.data?1:0);this.m.na()};p.prototype.$o=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.X(a.data<f.data?1:0);this.m.na()};p.prototype.bp=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.X(a.data<=f.data?1:0);this.m.na()};p.prototype.Wo=
function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.X(a.data>f.data?1:0);this.m.na()};p.prototype.Xo=function(a){this.first.get(a);var f=this.m.va();this.Fa.get(f);a.X(a.data>=f.data?1:0);this.m.na()};p.prototype.Uo=function(a){var f=this.fe.Ep();ja(f)?a.n(f):a.Db(f)};V=p;l.prototype.Ne=function(){return this.type===W.ze};l.prototype.Aa=function(){return this.type===W.Ae||this.type===W.ze};l.prototype.gh=function(){return this.type===W.String};l.prototype.Ue=function(){this.Ne()||(this.gh()&&
(this.data=parseFloat(this.data)),this.type=W.ze)};l.prototype.X=function(a){this.type=W.Ae;this.data=Math.floor(a)};l.prototype.n=function(a){this.type=W.ze;this.data=a};l.prototype.Db=function(a){this.type=W.String;this.data=a};l.prototype.cr=function(a){ja(a)?(this.type=W.ze,this.data=a):P(a)?(this.type=W.String,this.data=a.toString()):(this.type=W.Ae,this.data=0)};Vb=l;W={Ae:0,ze:1,String:2}})();function Y(p){this.b=p;this.gb=[]}
Y.prototype.ic=function(){var p={},l,a,f,s,n,k,b,v;p.waits=[];var g=p.waits,d;l=0;for(a=this.gb.length;l<a;l++){k=this.gb[l];d={t:k.time,st:k.Zm,s:k.$j,ev:k.Ge.J,sm:[],sols:{}};k.Ge.Wb[k.hb]&&(d.act=k.Ge.Wb[k.hb].J);f=0;for(s=k.ca.length;f<s;f++)d.sm.push(k.ca[f].J);for(n in k.Wa)if(k.Wa.hasOwnProperty(n)){b=this.b.i[parseInt(n,10)];v={sa:k.Wa[n].Ih,insts:[]};f=0;for(s=k.Wa[n].Xc.length;f<s;f++)v.insts.push(k.Wa[n].Xc[f].uid);d.sols[b.J.toString()]=v}g.push(d)}return p};
Y.prototype.ad=function(p){p=p.waits;var l,a,f,s,n,k,b,v,g,d,e;l=this.gb.length=0;for(a=p.length;l<a;l++)if(k=p[l],v=this.b.Ek[k.ev.toString()]){g=-1;f=0;for(s=v.Wb.length;f<s;f++)if(v.Wb[f].J===k.act){g=f;break}if(-1!==g){b={Wa:{},ca:[],yi:!1};b.time=k.t;b.Zm=k.st||"";b.$j=!!k.s;b.Ge=v;b.hb=g;f=0;for(s=k.sm.length;f<s;f++)(v=this.b.Xg(k.sm[f]))&&b.ca.push(v);for(n in k.sols)if(k.sols.hasOwnProperty(n)&&(v=this.b.Xg(parseInt(n,10)))){g=k.sols[n];d={Ih:g.sa,Xc:[]};f=0;for(s=g.insts.length;f<s;f++)(e=
this.b.Wg(g.insts[f]))&&d.Xc.push(e);b.Wa[v.index.toString()]=d}this.gb.push(b)}}};
(function(){function p(){}function l(){}function a(){}var f=Y.prototype;p.prototype.En=function(){return!0};p.prototype.pk=function(){return!0};p.prototype.Qn=function(){return!0};p.prototype.Dn=function(a){var b=this.b.el(),f=b.P.Every_lastTime||0,g=this.b.qb.R;"undefined"===typeof b.P.Every_seconds&&(b.P.Every_seconds=a);var d=b.P.Every_seconds;if(g>=f+d)return b.P.Every_lastTime=f+d,g>=b.P.Every_lastTime+.04&&(b.P.Every_lastTime=g),b.P.Every_seconds=a,!0;g<f-.1&&(b.P.Every_lastTime=g);return!1};
p.prototype.Cn=function(){var a=this.b.Za();return a.Bi?!1:!a.qe};p.prototype.qk=function(){return!0};p.prototype.Nn=function(){return!0};p.prototype.di=function(){return!0};p.prototype.Rn=function(){return!0};p.prototype.bi=function(){return!0};p.prototype.yn=function(a,b,f){return Na(T(a),T(f))<=T(b)};p.prototype.Hn=function(a,b){return Pa(T(a),T(b))};p.prototype.Gn=function(a,b,f){a=La(a);b=La(b);f=La(f);return Pa(f,b)?Pa(a,b)&&!Pa(a,f):!(!Pa(a,b)&&Pa(a,f))};f.A=new p;l.prototype.Fn=function(a){this.b.Rf||
this.b.vf||(this.b.vf=a)};l.prototype.Yn=function(a,b){0===a.wn?ja(b)?a.Lh(b):a.Lh(parseFloat(b)):1===a.wn&&a.Lh(b.toString())};var s=[],n=[];l.prototype.Zn=function(a){if(!(0>a)){var b,f,g,d=this.b.Za(),e;e=s.length?s.pop():{Wa:{},ca:[]};e.yi=!1;e.time=this.b.qb.R+a;e.Zm="";e.$j=!1;e.Ge=d.Ab;e.hb=d.hb+1;a=0;for(b=this.b.i.length;a<b;a++)g=this.b.i[a],f=g.Y(),f.ba&&-1===d.Ab.ca.indexOf(g)||(e.ca.push(g),g=void 0,g=n.length?n.pop():{Xc:[]},g.Ih=!1,g.Ih=f.ba,ya(g.Xc,f.c),e.Wa[a.toString()]=g);this.gb.push(e);
return!0}};f.ib=new l;a.prototype["int"]=function(a,b){P(b)?(a.X(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.X(b)};a.prototype["float"]=function(a,b){P(b)?(a.n(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.n(b)};a.prototype.random=function(a,b,f){void 0===f?a.n(Math.random()*b):a.n(Math.random()*(f-b)+b)};a.prototype.sqrt=function(a,b){a.n(Math.sqrt(b))};a.prototype.abs=function(a,b){a.n(Math.abs(b))};a.prototype.round=function(a,b){a.X(Math.round(b))};a.prototype.floor=function(a,b){a.X(Math.floor(b))};
a.prototype.ceil=function(a,b){a.X(Math.ceil(b))};a.prototype.sin=function(a,b){a.n(Math.sin(T(b)))};a.prototype.cos=function(a,b){a.n(Math.cos(T(b)))};a.prototype.tan=function(a,b){a.n(Math.tan(T(b)))};a.prototype.asin=function(a,b){a.n(Da(Math.asin(b)))};a.prototype.acos=function(a,b){a.n(Da(Math.acos(b)))};a.prototype.atan=function(a,b){a.n(Da(Math.atan(b)))};a.prototype.exp=function(a,b){a.n(Math.exp(b))};a.prototype.log10=function(a,b){a.n(Math.log(b)/Math.LN10)};a.prototype.max=function(a){var b=
arguments[1];"number"!==typeof b&&(b=0);var f,g,d;f=2;for(g=arguments.length;f<g;f++)d=arguments[f],"number"===typeof d&&b<d&&(b=d);a.n(b)};a.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var f,g,d;f=2;for(g=arguments.length;f<g;f++)d=arguments[f],"number"===typeof d&&b>d&&(b=d);a.n(b)};a.prototype.de=function(a){a.n(this.b.de)};a.prototype.jf=function(a){a.n(this.b.jf)};a.prototype.time=function(a){a.n(this.b.qb.R)};a.prototype.ug=function(a){a.X(this.b.ug)};a.prototype.xh=
function(a){a.X(this.b.xh)};a.prototype.Ki=function(a){a.X(this.b.Ki)};a.prototype.j=function(a,b,f,g,d){a.n(Da(Ma(b,f,g,d)))};a.prototype.find=function(a,b,f){P(b)&&P(f)?a.X(b.search(new RegExp($a(f),"i"))):a.X(-1)};a.prototype.left=function(a,b,f){a.Db(P(b)?b.substr(0,f):"")};a.prototype.right=function(a,b,f){a.Db(P(b)?b.substr(b.length-f):"")};a.prototype.replace=function(a,b,f,g){P(b)&&P(f)&&P(g)?a.Db(b.replace(new RegExp($a(f),"gi"),g)):a.Db(P(b)?b:"")};a.prototype.trim=function(a,b){a.Db(P(b)?
b.trim():"")};a.prototype.Mk=function(a){var b=Q(Math.random()*(arguments.length-1));a.cr(arguments[b+1])};a.prototype.si=function(a){a.n(this.b.si/1E3)};a.prototype.sh=function(a){a.n(this.b.sh)};f.Mb=new a;f.Rq=function(){var a,b,f,g,d,e,l=this.b.Za();a=0;for(f=this.gb.length;a<f;a++){g=this.gb[a];if(-1===g.time){if(!g.$j)continue}else if(g.time>this.b.qb.R)continue;l.Ab=g.Ge;l.hb=g.hb;l.Ya=0;for(b in g.Wa)g.Wa.hasOwnProperty(b)&&(d=this.b.i[parseInt(b,10)].Y(),e=g.Wa[b],d.ba=e.Ih,ya(d.c,e.Xc),
d=e,d.Xc.length=0,n.push(d));g.Ge.Qq();this.b.qi(g.ca);g.yi=!0}b=a=0;for(f=this.gb.length;a<f;a++)g=this.gb[a],this.gb[b]=g,g.yi?(Ua(g.Wa),g.ca.length=0,s.push(g)):b++;this.gb.length=b}})();
(function(){jb=function(l,a){var f=l[1],p=l[3],n=l[4],k=l[5],b=l[6],v=l[7],g=l[8];a.A||(a.A={});a.ib||(a.ib={});a.Mb||(a.Mb={});var d=a.A,e=a.ib,r=a.Mb;p&&(d.Gr=function(a,b){return Wb(this.x,a,b)},d.Hr=function(a,b){return Wb(this.y,a,b)},d.Or=function(){var a=this.e;this.Ra();var b=this.Sa;return!(b.right<a.pa||b.bottom<a.qa||b.left>a.Ia||b.top>a.Ha)},d.Pr=function(){this.Ra();var a=this.Sa,b=this.b.aa;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},d.as=function(a,b,d){var c=this.Y(),
g=c.yc();if(!g.length)return!1;var e=g[0],f=e,k=Ra(e.x,e.y,b,d),l,n,p;l=1;for(n=g.length;l<n;l++)if(e=g[l],p=Ra(e.x,e.y,b,d),0===a&&p<k||1===a&&p>k)k=p,f=e;c.gg(f);return!0},e.vs=function(a){this.x!==a&&(this.x=a,this.Ga())},e.ws=function(a){this.y!==a&&(this.y=a,this.Ga())},e.Wn=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Ga()},e.Xn=function(a,b){var d=a.zp(this);if(d){var c;d.Qi?(c=d.Qi(b,!0),d=d.Qi(b,!1)):(c=d.x,d=d.y);if(this.x!==c||this.y!==d)this.x=c,this.y=d,this.Ga()}},
e.Ur=function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.Ga())},e.Tr=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.Ga())},r.rk=function(a){a.n(this.x)},r.$n=function(a){a.n(this.y)},r.de=function(a){a.n(this.b.gl(this))});n&&(d.Fr=function(a,b){return Wb(this.width,a,b)},d.Cr=function(a,b){return Wb(this.height,a,b)},e.us=function(a){this.width!==a&&(this.width=a,this.Ga())},e.os=function(a){this.height!==a&&(this.height=a,this.Ga())},e.rs=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Ga()},r.As=function(a){a.n(this.width)},r.Kr=function(a){a.n(this.height)},r.xr=function(a){this.Ra();a.n(this.Sa.left)},r.Ar=function(a){this.Ra();a.n(this.Sa.top)},r.yr=function(a){this.Ra();a.n(this.Sa.right)},r.wr=function(a){this.Ra();a.n(this.Sa.bottom)});k&&(d.yn=function(a,b){return Na(this.j,T(b))<=T(a)},d.Hn=function(a){return Pa(this.j,T(a))},d.Gn=function(a,b){var d=La(a),c=La(b),g=Fa(this.j);return Pa(c,
d)?Pa(g,d)&&!Pa(g,c):!(!Pa(g,d)&&Pa(g,c))},e.ks=function(a){a=T(Ea(a));isNaN(a)||this.j===a||(this.j=a,this.Ga())},e.es=function(a){0===a||isNaN(a)||(this.j+=T(a),this.j=Fa(this.j),this.Ga())},e.gs=function(a){0===a||isNaN(a)||(this.j-=T(a),this.j=Fa(this.j),this.Ga())},e.hs=function(a,b){var d=Oa(this.j,T(b),T(a));isNaN(d)||this.j===d||(this.j=d,this.Ga())},e.js=function(a,b,d){a=Oa(this.j,Math.atan2(d-this.y,b-this.x),T(a));isNaN(a)||this.j===a||(this.j=a,this.Ga())},e.ss=function(a,b){var d=Math.atan2(b-
this.y,a-this.x);isNaN(d)||this.j===d||(this.j=d,this.Ga())},r.ur=function(a){a.n(Ga(this.j))});f||(d.Dr=function(a,b,d){return Wb(this.ra[a],b,d)},d.Mr=function(a){return this.ra[a]},d.bs=function(a,b){var d=this.Y(),c=d.yc();if(!c.length)return!1;var g=c[0],e=g,f=g.ra[b],k,l,n;k=1;for(l=c.length;k<l;k++)if(g=c[k],n=g.ra[b],0===a&&n<f||1===a&&n>f)f=n,e=g;d.gg(e);return!0},d.$r=function(a){var b,d,c,g,e;if(this.b.el().gj){e=this.Y();if(e.ba)for(e.ba=!1,e.c.length=0,e.O.length=0,c=this.c,b=0,d=c.length;b<
d;b++)g=c[b],g.uid===a?e.O.push(g):e.c.push(g);else{c=b=0;for(d=e.c.length;b<d;b++)g=e.c[b],e.c[c]=g,g.uid===a?e.O.push(g):c++;e.c.length=c}this.qd();return!!e.c.length}g=this.b.Wg(a);if(!g)return!1;e=this.Y();if(!e.ba&&-1===e.c.indexOf(g))return!1;if(this.L)for(a=g.type.da,b=0,d=a.length;b<d;b++){if(a[b]===this)return e.gg(g),this.qd(),!0}else if(g.type===this)return e.gg(g),this.qd(),!0;return!1},d.On=function(){return!0},d.Pn=function(){return!0},e.ps=function(a,b){var d=this.ra;ja(d[a])?d[a]=
ja(b)?b:parseFloat(b):P(d[a])&&(d[a]=P(b)?b:b.toString())},e.tr=function(a,b){var d=this.ra;ja(d[a])?d[a]=ja(b)?d[a]+b:d[a]+parseFloat(b):P(d[a])&&(d[a]=P(b)?d[a]+b:d[a]+b.toString())},e.xs=function(a,b){var d=this.ra;ja(d[a])&&(d[a]=ja(b)?d[a]-b:d[a]-parseFloat(b))},e.ls=function(a,b){this.ra[a]=b?1:0},e.ys=function(a){this.ra[a]=1-this.ra[a]},e.Jr=function(){this.b.Sd(this)},e.Jn||(e.Jn=function(a){var b,d;try{b=JSON.parse(a)}catch(c){return}this.b.ph(this,b,!0);this.pd&&this.pd();if(this.D)for(a=
0,b=this.D.length;a<b;++a)d=this.D[a],d.pd&&d.pd()}),r.Ir=function(a){var b=a.We.c.length,d,c,g;d=0;for(c=this.b.tc.length;d<c;d++)g=this.b.tc[d],a.We.L?0<=g.type.da.indexOf(a.We)&&b++:g.type===a.We&&b++;a.X(b)},r.ds=function(a){a.X(a.We.Y().yc().length)},r.zs=function(a){a.X(this.uid)},r.Lr=function(a){a.X(this.Ff())},r.zn||(r.zn=function(a){a.Db(JSON.stringify(this.b.Vj(this,!0)))}));b&&(d.Qr=function(){return this.visible},e.ts=function(a){!a!==!this.visible&&(this.visible=a,this.b.Z=!0)},d.Er=
function(a,b){return Wb(fb(100*this.opacity),a,b)},e.qs=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Z=!0)},r.Opacity=function(a){a.n(fb(100*this.opacity))});v&&(d.Nr=function(a){return a?this.e===a:!1},d.cs=function(a){var b=this.Y(),d=b.yc();if(!d.length)return!1;var c=d[0],g=c,e,f;e=1;for(f=d.length;e<f;e++)if(c=d[e],0===a){if(c.e.index>g.e.index||c.e.index===g.e.index&&c.zc()>g.zc())g=c}else if(c.e.index<g.e.index||c.e.index===g.e.index&&c.zc()<g.zc())g=c;b.gg(g);
return!0},e.Xr=function(){var a=this.e,b=a.c;b.length&&b[b.length-1]===this||(a.df(this,!1),a.rf(this,!1),this.b.Z=!0)},e.Vr=function(){var a=this.e,b=a.c;b.length&&b[0]===this||(a.df(this,!1),a.Iq(this),this.b.Z=!0)},e.Wr=function(a){a&&a!=this.e&&(this.e.df(this,!0),this.e=a,a.rf(this,!0),this.b.Z=!0)},e.Cs=function(a,b){var d=0===a;if(b){var c=b.up(this);c&&c.uid!==this.uid&&(this.e.index!==c.e.index&&(this.e.df(this,!0),this.e=c.e,c.e.rf(this,!0)),this.e.pq(this,c,d),this.b.Z=!0)}},r.Sr=function(a){a.X(this.e.km)},
r.Rr=function(a){a.Db(this.e.name)},r.Bs=function(a){a.X(this.zc())});g&&(e.ms=function(a,b){if(this.b.q){var d=this.type.Pi(b);if(!(0>d)){var c=1===a;this.od[d]!==c&&(this.od[d]=c,this.jd(),this.b.Z=!0)}}},e.ns=function(a,b,d){if(this.b.q){var c=this.type.Pi(a);0>c||(a=this.type.B[c],c=this.fa[c],b=Math.floor(b),0>b||b>=c.length||(1===this.b.q.Dp(a.Ma,b)&&(d/=100),c[b]!==d&&(c[b]=d,a.yb&&(this.b.Z=!0))))}})};Db=function(){this.ni=this.hi=!0;this.type.xk=!0;this.b.Z=!0;var l,a,f=this.ii;l=0;for(a=
f.length;l<a;++l)f[l](this);this.e.kc&&this.Ra()};Eb=function(l){l&&this.ii.push(l)};Gb=function(){if(this.hi){var l=this.Sa,a=this.yg;l.set(this.x,this.y,this.x+this.width,this.y+this.height);l.offset(-this.ob*this.width,-this.pb*this.height);this.j?(l.offset(-this.x,-this.y),a.Um(l,this.j),a.offset(this.x,this.y),a.Fk(l)):a.Mh(l);l.normalize();this.hi=!1;this.pr()}};var p=new S(0,0,0,0);Hb=function(){if(this.e.kc){var l=this.e.tb,a=this.Sa;p.set(l.wb(a.left),l.xb(a.top),l.wb(a.right),l.xb(a.bottom));
this.bb.Mg(p)||(this.bb.right<this.bb.left?l.update(this,null,p):l.update(this,this.bb,p),this.bb.Dg(p),this.e.dd=!0)}};Ib=function(){if(this.ni&&this.wf){this.Ra();var l=this.type.Nk,a=this.Sa;p.set(l.wb(a.left),l.xb(a.top),l.wb(a.right),l.xb(a.bottom));this.ud.Mg(p)||(this.ud.right<this.ud.left?l.update(this,null,p):l.update(this,this.ud,p),this.ud.Dg(p),this.ni=!1)}};Fb=function(l,a){return this.Sa.Ib(l,a)&&this.yg.Ib(l,a)?this.sc&&!this.sc.hq()?(this.sc.no(this.width,this.height,this.j),this.sc.Ib(l-
this.x,a-this.y)):!0:!1};zb=function(){this.type.Yh();return this.ke};Jb=function(){this.e.ik();return this.lc};Kb=function(){this.N.length=0;var l,a;l=0;for(a=this.od.length;l<a;l++)this.od[l]&&this.N.push(this.type.B[l]);this.vn=!!this.N.length};Ab=function(){return"Inst"+this.Jm};nb=function(l){if(l&&l.ac&&l.type!=this){var a,f,p;a=0;for(f=l.siblings.length;a<f;a++)if(p=l.siblings[a],p.type==this)return p}l=this.Y().yc();return l.length?l[0]:null};ob=function(l){var a=this.Y().yc();return a.length?
a[l.Ff()%a.length]:null};lb=function(){if(this.hf&&!this.L){var l,a;l=0;for(a=this.c.length;l<a;l++)this.c[l].ke=l;var f=l,p=this.b.tc;l=0;for(a=p.length;l<a;++l)p[l].type===this&&(p[l].ke=f++);this.hf=!1}};xb=function(l){if(l<this.c.length)return this.c[l];l-=this.c.length;var a=this.b.tc,f,p;f=0;for(p=a.length;f<p;++f)if(a[f].type===this){if(0===l)return a[f];--l}return null};pb=function(){return this.Nd[this.Rc]};qb=function(){this.Rc++;this.Rc===this.Nd.length?this.Nd.push(new kb(this)):this.Nd[this.Rc].ba=
!0};rb=function(){this.Rc++;this.Rc===this.Nd.length&&this.Nd.push(new kb(this));var l=this.Nd[this.Rc],a=this.Nd[this.Rc-1];a.ba?l.ba=!0:(l.ba=!1,ya(l.c,a.c),ya(l.O,a.O))};sb=function(){this.Rc--};tb=function(l){var a,f,p,n,k,b=0;if(!this.L)for(a=0,f=this.da.length;a<f;a++)for(k=this.da[a],p=0,n=k.ka.length;p<n;p++){if(l===k.ka[p].name)return this.P.lastBehIndex=b,k.ka[p];b++}a=0;for(f=this.ka.length;a<f;a++){if(l===this.ka[a].name)return this.P.lastBehIndex=b,this.ka[a];b++}return null};ub=function(l){return this.Ug(l)?
this.P.lastBehIndex:-1};vb=function(l){var a,f;a=0;for(f=this.B.length;a<f;a++)if(this.B[a].name===l)return a;return-1};wb=function(){if(this.ac&&!this.L){var l,a,f,p,n,k,b;this.Yh();k=this.Y();var v=k.ba,g=(l=this.b.Za())&&l.Ab&&l.Ab.Dc;l=0;for(a=this.lb.length;l<a;l++)if(n=this.lb[l],n!==this&&(n.Yh(),b=n.Y(),b.ba=v,!v)){b.c.length=k.c.length;f=0;for(p=k.c.length;f<p;f++)b.c[f]=n.il(k.c[f].ke);if(g)for(b.O.length=k.O.length,f=0,p=k.O.length;f<p;f++)b.O[f]=n.il(k.O[f].ke)}}};yb=function(){return"Type"+
this.J};Wb=function(l,a,f){if("undefined"===typeof l||"undefined"===typeof f)return!1;switch(a){case 0:return l===f;case 1:return l!==f;case 2:return l<f;case 3:return l<=f;case 4:return l>f;case 5:return l>=f;default:return!1}}})();var ec={};function hc(p){this.b=p}
(function(){function p(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function l(a){a=a.toLowerCase();return R.hasOwnProperty(a)&&R[a].length?R[a][0].Bb():t.destination}function a(){return t.createGain?t.createGain():t.createGainNode()}function f(a){return t.createDelay?t.createDelay(a):t.createDelayNode(a)}function s(a){a.start?a.start(0):a.noteOn(0)}function n(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function k(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function b(b,
c,d,g,e,f){this.type="filter";this.fc=[b,c,d,g,e,f];this.K=a();this.u=a();this.u.gain.value=f;this.p=a();this.p.gain.value=1-f;this.la=t.createBiquadFilter();this.la.type="number"===typeof this.la.type?b:kc[b];this.la.frequency.value=c;this.la.detune&&(this.la.detune.value=d);this.la.Q.value=g;this.la.gain.value=e;this.K.connect(this.la);this.K.connect(this.p);this.la.connect(this.u)}function v(b,c,d){this.type="delay";this.fc=[b,c,d];this.K=a();this.u=a();this.u.gain.value=d;this.p=a();this.p.gain.value=
1-d;this.cg=a();this.Lb=f(b);this.Lb.delayTime.value=b;this.Kg=a();this.Kg.gain.value=c;this.K.connect(this.cg);this.K.connect(this.p);this.cg.connect(this.u);this.cg.connect(this.Lb);this.Lb.connect(this.Kg);this.Kg.connect(this.cg)}function g(b,c,d,g){this.type="convolve";this.fc=[c,d,g];this.K=a();this.u=a();this.u.gain.value=d;this.p=a();this.p.gain.value=1-d;this.Yd=t.createConvolver();b&&(this.Yd.normalize=c,this.Yd.buffer=b);this.K.connect(this.Yd);this.K.connect(this.p);this.Yd.connect(this.u)}
function d(b,c,d,g,e){this.type="flanger";this.fc=[b,c,d,g,e];this.K=a();this.p=a();this.p.gain.value=1-e/2;this.u=a();this.u.gain.value=e/2;this.Qg=a();this.Qg.gain.value=g;this.Lb=f(b+c);this.Lb.delayTime.value=b;this.Da=t.createOscillator();this.Da.frequency.value=d;this.sb=a();this.sb.gain.value=c;this.K.connect(this.Lb);this.K.connect(this.p);this.Lb.connect(this.u);this.Lb.connect(this.Qg);this.Qg.connect(this.Lb);this.Da.connect(this.sb);this.sb.connect(this.Lb.delayTime);s(this.Da)}function e(b,
c,d,g,e,f){this.type="phaser";this.fc=[b,c,d,g,e,f];this.K=a();this.p=a();this.p.gain.value=1-f/2;this.u=a();this.u.gain.value=f/2;this.la=t.createBiquadFilter();this.la.type="number"===typeof this.la.type?7:"allpass";this.la.frequency.value=b;this.la.detune&&(this.la.detune.value=c);this.la.Q.value=d;this.Da=t.createOscillator();this.Da.frequency.value=e;this.sb=a();this.sb.gain.value=g;this.K.connect(this.la);this.K.connect(this.p);this.la.connect(this.u);this.Da.connect(this.sb);this.sb.connect(this.la.frequency);
s(this.Da)}function r(b){this.type="gain";this.fc=[b];this.M=a();this.M.gain.value=b}function h(b,c){this.type="tremolo";this.fc=[b,c];this.M=a();this.M.gain.value=1-c/2;this.Da=t.createOscillator();this.Da.frequency.value=b;this.sb=a();this.sb.gain.value=c/2;this.Da.connect(this.sb);this.sb.connect(this.M.gain);s(this.Da)}function u(b,c){this.type="ringmod";this.fc=[b,c];this.K=a();this.u=a();this.u.gain.value=c;this.p=a();this.p.gain.value=1-c;this.kg=a();this.kg.gain.value=0;this.Da=t.createOscillator();
this.Da.frequency.value=b;this.Da.connect(this.kg.gain);s(this.Da);this.K.connect(this.kg);this.K.connect(this.p);this.kg.connect(this.u)}function A(b,c,d,g,e){this.type="distortion";this.fc=[b,c,d,g,e];this.K=a();this.Ch=a();this.Bh=a();this.Yq(d,Math.pow(10,g/20));this.u=a();this.u.gain.value=e;this.p=a();this.p.gain.value=1-e;this.Zh=t.createWaveShaper();this.Ig=new Float32Array(65536);this.rp(b,c);this.Zh.Ig=this.Ig;this.K.connect(this.Ch);this.K.connect(this.p);this.Ch.connect(this.Zh);this.Zh.connect(this.Bh);
this.Bh.connect(this.u)}function c(a,b,c,d,g){this.type="compressor";this.fc=[a,b,c,d,g];this.M=t.createDynamicsCompressor();try{this.M.threshold.value=a,this.M.knee.value=b,this.M.ratio.value=c,this.M.attack.value=d,this.M.release.value=g}catch(e){}}function m(a,b){this.type="analyser";this.fc=[a,b];this.M=t.createAnalyser();this.M.fftSize=a;this.M.smoothingTimeConstant=b;this.pp=new Float32Array(this.M.frequencyBinCount);this.Xm=new Uint8Array(a);this.fg=0}function q(){this.r=null;this.rh=0;this.Od=
[];this.xj=this.jh=this.ih=0}function O(b,c){this.src=b;this.I=w;this.cc=c;this.uk=!1;var d=this;this.wj=this.Fj=null;this.Ze=[];this.Jh=0;this.nk=this.Gi=this.an=this.yh=!1;1===w&&c&&(this.I=0,this.Fj=a());this.Wd=this.S=null;var g;switch(this.I){case 0:this.S=new Audio;this.S.addEventListener("canplaythrough",function(){d.nk=!0});1===w&&t.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.an=!0,this.S.addEventListener("canplay",function(){d.wj||(d.wj=t.createMediaElementSource(d.S),
d.wj.connect(d.Fj))}));this.S.autoplay=!1;this.S.Is="auto";this.S.src=b;break;case 1:g=new XMLHttpRequest;g.open("GET",b,!0);g.responseType="arraybuffer";g.onload=function(){d.Wd=g.response;d.uo()};g.onerror=function(){d.Gi=!0};g.send();break;case 2:this.S=!0;break;case 3:this.S=!0}}function y(b,c){var d=this;this.tag=c;this.ub=this.xc=!0;this.src=b.src;this.buffer=b;this.I=w;this.cc=b.cc;this.playbackRate=1;this.ri=!0;this.Ob=this.ed=!1;this.cb=0;this.Pf=this.Oe=this.Cc=!1;this.volume=1;this.ne=
1===G&&!this.cc||2===G;this.Ve=1;this.startTime=this.ne?x.qb.R:x.Nc.R;this.ha=this.ma=null;this.Ec=!1;this.ga=null;this.xm=this.wm=this.vm=this.um=this.zm=this.ym=0;this.d=null;var g=!1;1!==this.I||0!==this.buffer.I||this.buffer.an||(this.I=0);switch(this.I){case 0:this.cc?(this.d=b.S,g=!b.uk,b.uk=!0):(this.d=new Audio,this.d.autoplay=!1,this.d.src=b.S.src,g=!0);g&&this.d.addEventListener("ended",function(){ra=d.tag;d.ub=!0;x.trigger(hc.prototype.A.ai,J)});break;case 1:this.ma=a();this.ma.connect(l(c));
1===this.buffer.I?b.S&&(this.d=t.createBufferSource(),this.d.buffer=b.S,this.d.connect(this.ma)):(this.d=this.buffer.S,this.buffer.Fj.connect(this.ma));break;case 2:this.d=new window.Media(U+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(d.ri=!0,d.ub=!0,ra=d.tag,x.trigger(hc.prototype.A.ai,J))});break;case 3:this.d=!0}}function F(a,b){R.hasOwnProperty(a)?R[a].push(b):R[a]=[b];var c,d,g,e,f=t.destination;if(R.hasOwnProperty(a)&&(g=R[a],g.length))for(f=g[0].Bb(),c=0,d=g.length;c<d;c++)e=
g[c],c+1===d?e.Hb(t.destination):e.Hb(g[c+1].Bb());Ca.length=0;if(a.length)for(c=0,d=D.length;c<d;c++)g=D[c],gb(a,g.tag)&&Ca.push(g);else E&&!E.je()&&(Ca.length=1,Ca[0]=E);c=0;for(d=Ca.length;c<d;c++)Ca[c].Mq(f);X&&mb===a&&(X.disconnect(),X.connect(f))}function Z(){}function ia(){}var K=hc.prototype;K.Td=function(a){this.La=a;this.b=a.b};K.Td.prototype.Va=function(){};var x=null,J=null,ra="",U="",w=0,t=null,sa=[],D=[],E=null,B=!1,G=0,H=!1,C=1,M=0,I=0,ea=1,L=1,ka=10,aa=1E4,oa=1,X=null,mb="",Ha=!1,
Ia=[],R={},kc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");b.prototype.Hb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();this.p.connect(a)};b.prototype.remove=function(){this.K.disconnect();this.la.disconnect();this.u.disconnect();this.p.disconnect()};b.prototype.Bb=function(){return this.K};v.prototype.Hb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();this.p.connect(a)};v.prototype.remove=function(){this.K.disconnect();
this.cg.disconnect();this.Lb.disconnect();this.Kg.disconnect();this.u.disconnect();this.p.disconnect()};v.prototype.Bb=function(){return this.K};g.prototype.Hb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();this.p.connect(a)};g.prototype.remove=function(){this.K.disconnect();this.Yd.disconnect();this.u.disconnect();this.p.disconnect()};g.prototype.Bb=function(){return this.K};d.prototype.Hb=function(a){this.p.disconnect();this.p.connect(a);this.u.disconnect();this.u.connect(a)};
d.prototype.remove=function(){this.K.disconnect();this.Lb.disconnect();this.Da.disconnect();this.sb.disconnect();this.p.disconnect();this.u.disconnect();this.Qg.disconnect()};d.prototype.Bb=function(){return this.K};e.prototype.Hb=function(a){this.p.disconnect();this.p.connect(a);this.u.disconnect();this.u.connect(a)};e.prototype.remove=function(){this.K.disconnect();this.la.disconnect();this.Da.disconnect();this.sb.disconnect();this.p.disconnect();this.u.disconnect()};e.prototype.Bb=function(){return this.K};
r.prototype.Hb=function(a){this.M.disconnect();this.M.connect(a)};r.prototype.remove=function(){this.M.disconnect()};r.prototype.Bb=function(){return this.M};h.prototype.Hb=function(a){this.M.disconnect();this.M.connect(a)};h.prototype.remove=function(){this.Da.disconnect();this.sb.disconnect();this.M.disconnect()};h.prototype.Bb=function(){return this.M};u.prototype.Hb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();this.p.connect(a)};u.prototype.remove=function(){this.Da.disconnect();
this.kg.disconnect();this.K.disconnect();this.u.disconnect();this.p.disconnect()};u.prototype.Bb=function(){return this.K};A.prototype.Yq=function(a,b){.01>a&&(a=.01);this.Ch.gain.value=a;this.Bh.gain.value=Math.pow(1/a,.6)*b};A.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};A.prototype.rp=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),g=0,e=0;32768>e;++e)g=e/32768,g=this.shape(g,c,d),this.Ig[32768+e]=g,this.Ig[32768-
e-1]=-g};A.prototype.Hb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();this.p.connect(a)};A.prototype.remove=function(){this.K.disconnect();this.Ch.disconnect();this.Zh.disconnect();this.Bh.disconnect();this.u.disconnect();this.p.disconnect()};A.prototype.Bb=function(){return this.K};c.prototype.Hb=function(a){this.M.disconnect();this.M.connect(a)};c.prototype.remove=function(){this.M.disconnect()};c.prototype.Bb=function(){return this.M};m.prototype.fb=function(){this.M.getFloatFrequencyData(this.pp);
this.M.getByteTimeDomainData(this.Xm);for(var a=this.M.fftSize,b=0,c=this.fg=0,d=0;b<a;b++)d=(this.Xm[b]-128)/128,0>d&&(d=-d),this.fg<d&&(this.fg=d),c+=d*d;this.fg=p(this.fg);p(Math.sqrt(c/a))};m.prototype.Hb=function(a){this.M.disconnect();this.M.connect(a)};m.prototype.remove=function(){this.M.disconnect()};m.prototype.Bb=function(){return this.M};q.prototype.lg=function(a){if(this.r=a)this.ih=this.r.x,this.jh=this.r.y;this.Od.length=0};q.prototype.$g=function(){return!!this.r};q.prototype.fb=function(a){this.r&&
0!==a&&(this.xj=Ma(this.ih,this.jh,this.r.x,this.r.y),a=Ra(this.ih,this.jh,this.r.x,this.r.y)/a,4>this.Od.length||this.Od.shift(),this.Od.push(a),this.ih=this.r.x,this.jh=this.r.y)};q.prototype.ml=function(){if(!this.Od.length)return 0;var a,b,c=0;a=0;for(b=this.Od.length;a<b;a++)c+=this.Od[a];return c/this.Od.length};q.prototype.Ui=function(){return Math.cos(this.xj)*this.ml()};q.prototype.Vi=function(){return Math.sin(this.xj)*this.ml()};var jc=!1;O.prototype.uo=function(){if(!this.S&&this.Wd){var a=
this;if(t.decodeAudioData)t.decodeAudioData(this.Wd,function(b){a.S=b;a.Wd=null;var c,d,g;if(ha(a.zh)||H)ha(a.Cg)||(c=a.Cg.Yd,c.normalize=a.jm,c.buffer=b);else if(a.Ze.length){c=0;for(d=a.Ze.length;c<d;c++){b=a.Ze[c];g=new y(a,b.en);g.Yj(!0);if("undefined"!==typeof b.lm&&(b.r=x.Wg(b.lm),!b.r))continue;if(b.r){var e=Qa(b.r.x,b.r.y,-b.r.e.ya(),M,I,!0),f=Qa(b.r.x,b.r.y,-b.r.e.ya(),M,I,!1);g.Xj(e,f,Da(b.r.j-b.r.e.ya()),b.aj,b.zj,b.Bj);g.lg(b.r)}else g.Xj(b.x,b.y,b.ao,b.aj,b.zj,b.Bj);g.play(a.uj,a.mk,
a.Jh);a.yh&&g.pause();D.push(g)}a.Ze.length=0}else g=new y(a,a.zh),g.play(a.uj,a.mk,a.Jh),a.yh&&g.pause(),D.push(g)},function(){a.Gi=!0});else if(this.S=t.createBuffer(this.Wd,!1),this.Wd=null,ha(this.zh)||H)ha(this.Cg)||(b=this.Cg.Yd,b.normalize=this.jm,b.buffer=this.S);else{var b=new y(this,this.zh);b.play(this.uj,this.mk,this.Jh);this.yh&&b.pause();D.push(b)}}};O.prototype.xl=function(){switch(this.I){case 0:var a=4<=this.S.readyState;a&&(this.nk=!0);return a||this.nk;case 1:return!!this.Wd||!!this.S;
case 2:return!0;case 3:return!0}return!1};O.prototype.dq=function(){switch(this.I){case 0:return this.xl();case 1:return!!this.S;case 2:return!0;case 3:return!0}return!1};O.prototype.Wp=function(){switch(this.I){case 0:return!!this.S.error;case 1:return this.Gi}return!1};y.prototype.je=function(){var a;switch(this.I){case 0:return this.d.ended;case 1:if(1===this.buffer.I){if(!this.xc&&!this.ub&&this.d.loop||this.Ob)return!1;a=this.ne?x.qb.R:x.Nc.R;return a-this.startTime>this.buffer.S.duration}return this.d.ended;
case 2:return this.ri;case 3:!0}return!0};y.prototype.oo=function(){return this.xc||this.ub?!0:this.je()};y.prototype.Yj=function(a){1===w&&(!this.Ec&&a?this.ma&&(this.ha||(this.ha=t.createPanner(),this.ha.panningModel="number"===typeof this.ha.panningModel?ea:["equalpower","HRTF","soundfield"][ea],this.ha.distanceModel="number"===typeof this.ha.distanceModel?L:["linear","inverse","exponential"][L],this.ha.refDistance=ka,this.ha.maxDistance=aa,this.ha.rolloffFactor=oa),this.ma.disconnect(),this.ma.connect(this.ha),
this.ha.connect(l(this.tag)),this.Ec=!0):this.Ec&&!a&&this.ma&&(this.ha.disconnect(),this.ma.disconnect(),this.ma.connect(l(this.tag)),this.Ec=!1))};y.prototype.Xj=function(a,b,c,d,g,e){this.Ec&&1===w&&(this.ha.setPosition(a,b,0),this.ha.setOrientation(Math.cos(T(c)),Math.sin(T(c)),0),this.ha.coneInnerAngle=d,this.ha.coneOuterAngle=g,this.ha.coneOuterGain=e,this.ym=a,this.zm=b,this.um=c,this.vm=d,this.wm=g,this.xm=e)};y.prototype.lg=function(a){this.Ec&&1===w&&(this.ga||(this.ga=new q),this.ga.lg(a))};
y.prototype.fb=function(a){if(this.Ec&&1===w&&this.ga&&this.ga.$g()&&this.Ke()){this.ga.fb(a);a=this.ga.r;var b=Qa(a.x,a.y,-a.e.ya(),M,I,!0),c=Qa(a.x,a.y,-a.e.ya(),M,I,!1);this.ha.setPosition(b,c,0);b=0;"undefined"!==typeof this.ga.r.j&&(b=a.j-a.e.ya(),this.ha.setOrientation(Math.cos(b),Math.sin(b),0));b=Qa(this.ga.Ui(),this.ga.Vi(),-a.e.ya(),0,0,!0);c=Qa(this.ga.Ui(),this.ga.Vi(),-a.e.ya(),0,0,!1);this.ha.setVelocity(b,c,0)}};y.prototype.play=function(a,b,c){var d=this.d;this.Cc=a;this.volume=b;
c=c||0;switch(this.I){case 0:1!==d.playbackRate&&(d.playbackRate=1);d.volume!==b*C&&(d.volume=b*C);d.loop!==a&&(d.loop=a);d.muted&&(d.muted=!1);if(d.currentTime!==c)try{d.currentTime=c}catch(g){}if(this.cc&&Ha&&!x.Bc)Ia.push(this);else try{this.d.play()}catch(e){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",e)}break;case 1:this.muted=!1;this.Ve=1;if(1===this.buffer.I)this.xc||(this.d=t.createBufferSource(),this.d.buffer=this.buffer.S,this.d.connect(this.ma)),
this.d.loop=a,this.ma.gain.value=b*C,0===c?s(this.d):n(this.d,c,this.he());else{1!==d.playbackRate&&(d.playbackRate=1);d.loop!==a&&(d.loop=a);this.ma.gain.value=b*C;if(d.currentTime!==c)try{d.currentTime=c}catch(f){}this.cc&&Ha&&!x.Bc?Ia.push(this):d.play()}break;case 2:(!this.xc&&this.ub||0!==c)&&d.seekTo(c);d.play();this.ri=!1;break;case 3:x.$a?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.ne?x.qb.R:x.Nc.R)-c;this.Ob=this.ub=
this.xc=!1};y.prototype.stop=function(){switch(this.I){case 0:this.d.paused||this.d.pause();break;case 1:1===this.buffer.I?k(this.d):this.d.paused||this.d.pause();break;case 2:this.d.stop();break;case 3:x.$a&&AppMobi.context.stopSound(this.src)}this.ub=!0;this.Ob=!1};y.prototype.pause=function(){if(!(this.xc||this.ub||this.je()||this.Ob)){switch(this.I){case 0:this.d.paused||this.d.pause();break;case 1:1===this.buffer.I?(this.cb=this.Si(),this.Cc&&(this.cb%=this.he()),k(this.d)):this.d.paused||this.d.pause();
break;case 2:this.d.pause();break;case 3:x.$a&&AppMobi.context.stopSound(this.src)}this.Ob=!0}};y.prototype.Pq=function(){if(!(this.xc||this.ub||this.je())&&this.Ob){switch(this.I){case 0:this.d.play();break;case 1:1===this.buffer.I?(this.d=t.createBufferSource(),this.d.buffer=this.buffer.S,this.d.connect(this.ma),this.d.loop=this.Cc,this.ma.gain.value=C*this.volume*this.Ve,this.startTime=(this.ne?x.qb.R:x.Nc.R)-this.cb,n(this.d,this.cb,this.he())):this.d.play();break;case 2:this.d.play();break;case 3:x.$a&&
AppMobi.context.resumeSound(this.src)}this.Ob=!1}};y.prototype.seek=function(a){if(!(this.xc||this.ub||this.je()))switch(this.I){case 0:try{this.d.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.I)this.Ob?this.cb=a:(this.pause(),this.cb=a,this.Pq());else try{this.d.currentTime=a}catch(c){}break;case 3:x.$a&&AppMobi.context.seekSound(this.src,a)}};y.prototype.Mq=function(a){1===this.I&&(this.Ec?(this.ha.disconnect(),this.ha.connect(a)):(this.ma.disconnect(),this.ma.connect(a)))};y.prototype.he=
function(){switch(this.I){case 0:if("undefined"!==typeof this.d.duration)return this.d.duration;break;case 1:return this.buffer.S.duration;case 2:return this.d.getDuration();case 3:if(x.$a)return AppMobi.context.getDurationSound(this.src)}return 0};y.prototype.Si=function(){var a=this.he(),b=0;switch(this.I){case 0:"undefined"!==typeof this.d.currentTime&&(b=this.d.currentTime);break;case 1:if(1===this.buffer.I){if(this.Ob)return this.cb;b=(this.ne?x.qb.R:x.Nc.R)-this.startTime}else"undefined"!==
typeof this.d.currentTime&&(b=this.d.currentTime);break;case 3:x.$a&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.Cc&&b>a&&(b=a);return b};y.prototype.Ke=function(){return!this.Ob&&!this.xc&&!this.ub&&!this.je()};y.prototype.nr=function(){var a=this.volume*C;switch(this.I){case 0:this.d.volume&&this.d.volume!==a&&(this.d.volume=a);break;case 1:this.ma.gain.value=a*this.Ve}};y.prototype.Lg=function(a){switch(this.I){case 0:this.d.muted!==!!a&&(this.d.muted=!!a);break;case 1:this.Ve=a?0:
1,this.ma.gain.value=C*this.volume*this.Ve}};y.prototype.Zq=function(){this.Oe=!0;this.Lg(this.Oe||this.Pf)};y.prototype.Sm=function(a){this.Pf=!!a;this.Lg(this.Oe||this.Pf)};y.prototype.un=function(){var a=this.playbackRate;this.ne&&(a*=x.jf);switch(this.I){case 0:this.d.playbackRate!==a&&(this.d.playbackRate=a);break;case 1:1===this.buffer.I?this.d.playbackRate.value!==a&&(this.d.playbackRate.value=a):this.d.playbackRate!==a&&(this.d.playbackRate=a)}};y.prototype.br=function(a){switch(this.I){case 0:a?
this.Ke()?(this.d.pause(),this.ed=!0):this.ed=!1:this.ed&&this.d.play();break;case 1:a?this.Ke()?(1===this.buffer.I?(this.cb=this.Si(),this.Cc&&(this.cb%=this.he()),k(this.d)):this.d.pause(),this.ed=!0):this.ed=!1:this.ed&&(1===this.buffer.I?(this.d=t.createBufferSource(),this.d.buffer=this.buffer.S,this.d.connect(this.ma),this.d.loop=this.Cc,this.ma.gain.value=C*this.volume*this.Ve,this.startTime=(this.ne?x.qb.R:x.Nc.R)-this.cb,n(this.d,this.cb,this.he())):this.d.play());break;case 2:a?this.Ke()?
(this.d.pause(),this.ed=!0):this.ed=!1:this.ed&&this.d.play()}};K.mc=function(a){this.type=a;x=this.b=a.b;J=this;this.Ta=null;this.Vf=-600;!(this.b.hh||this.b.bh&&(this.b.Kf||this.b.dh))||this.b.Lf||this.b.za||(Ha=!0);t=null;"undefined"!==typeof AudioContext?(w=1,t=new AudioContext):"undefined"!==typeof webkitAudioContext&&(w=1,t=new webkitAudioContext);(this.b.hh&&1===w||Ha)&&document.addEventListener("touchstart",function(){var a,b,c;!jc&&t&&(a=t.createBuffer(1,1,22050),b=t.createBufferSource(),
b.buffer=a,b.connect(t.destination),s(b),jc=!0);if(Ha){if(!H)for(a=0,b=Ia.length;a<b;++a)c=Ia[a],c.ub||c.Ob||c.d.play();Ia.length=0}},!0);1!==w&&(this.b.zd&&"undefined"!==typeof window.Media?w=2:this.b.wl&&(w=3));2===w&&(U=location.href,a=U.lastIndexOf("/"),-1<a&&(U=U.substr(0,a+1)),U=U.replace("file://",""));if(this.b.yl&&this.b.fq&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Sd(this);
else{if(this.b.$a)B=this.b.bh;else try{B=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){B=!1}this.b.Th(this)}};var fa=K.mc.prototype;fa.Va=function(){this.b.Ee=this;G=this.Ea[0];this.fd=this.Ea[1];this.Cq=0!==this.Ea[2];ea=this.Ea[3];L=this.Ea[4];this.Vf=-this.Ea[5];ka=this.Ea[6];aa=this.Ea[7];oa=this.Ea[8];this.Ta=new q;var a=this.b.H||this.b.width,b=this.b.G||this.b.height;1===w&&(t.listener.speedOfSound=this.Ea[9],t.listener.dopplerFactor=this.Ea[10],t.listener.setPosition(a/
2,b/2,this.Vf),t.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){X&&X.disconnect();mb=b.toLowerCase();X=t.createMediaStreamSource(a);X.connect(l(mb))});this.b.eo(function(a){J.zq(a)});var c=this;this.b.bo(function(a){c.uq(a)})};fa.uq=function(a){var b,c,d;b=0;for(c=D.length;b<c;b++)d=D[b],d.ga&&d.ga.r===a&&(d.ga.r=null,d.Ec&&d.Ke()&&d.Cc&&d.stop());this.Ta.r===a&&(this.Ta.r=null)};fa.ic=function(){var a={silent:H,masterVolume:C,listenerZ:this.Vf,listenerUid:this.Ta.$g()?
this.Ta.r.uid:-1,playing:[],effects:{}},b=a.playing,c,d,g,e,f,h;c=0;for(d=D.length;c<d;c++)g=D[c],!g.Ke()||3===this.fd||g.cc&&1===this.fd||!g.cc&&2===this.fd||(e=g.Si(),g.Cc&&(e%=g.he()),e={tag:g.tag,buffersrc:g.buffer.src,is_music:g.cc,playbackTime:e,volume:g.volume,looping:g.Cc,muted:g.Oe,playbackRate:g.playbackRate,paused:g.Ob,resume_position:g.cb},g.Ec&&(e.pan={},h=e.pan,g.ga&&g.ga.$g()?h.objUid=g.ga.r.uid:(h.x=g.ym,h.y=g.zm,h.a=g.um),h.ia=g.vm,h.oa=g.wm,h.og=g.xm),b.push(e));b=a.effects;for(f in R)if(R.hasOwnProperty(f)){g=
[];c=0;for(d=R[f].length;c<d;c++)g.push({type:R[f][c].type,params:R[f][c].fc});b[f]=g}return a};var Ja=[];fa.ad=function(a){var f=a.silent;C=a.masterVolume;this.Vf=a.listenerZ;this.Ta.lg(null);var k=a.listenerUid;-1!==k&&(this.Ta.rh=k,Ja.push(this.Ta));var k=a.playing,l,n,p,s,t,x,y,B,w,z,E;if(3!==this.fd)for(l=0,n=D.length;l<n;l++)w=D[l],w.cc&&1===this.fd||(w.cc||2!==this.fd)&&w.stop();for(t in R)if(R.hasOwnProperty(t))for(l=0,n=R[t].length;l<n;l++)R[t][l].remove();Ua(R);for(t in a.effects)if(a.effects.hasOwnProperty(t))for(x=
a.effects[t],l=0,n=x.length;l<n;l++)switch(p=x[l].type,z=x[l].params,p){case "filter":F(t,new b(z[0],z[1],z[2],z[3],z[4],z[5]));break;case "delay":F(t,new v(z[0],z[1],z[2]));break;case "convolve":p=z[2];w=this.Tg(p,!1);w.S?p=new g(w.S,z[0],z[1],p):(p=new g(null,z[0],z[1],p),w.jm=z[0],w.Cg=p);F(t,p);break;case "flanger":F(t,new d(z[0],z[1],z[2],z[3],z[4]));break;case "phaser":F(t,new e(z[0],z[1],z[2],z[3],z[4],z[5]));break;case "gain":F(t,new r(z[0]));break;case "tremolo":F(t,new h(z[0],z[1]));break;
case "ringmod":F(t,new u(z[0],z[1]));break;case "distortion":F(t,new A(z[0],z[1],z[2],z[3],z[4]));break;case "compressor":F(t,new c(z[0],z[1],z[2],z[3],z[4]));break;case "analyser":F(t,new m(z[0],z[1]))}l=0;for(n=k.length;l<n;l++)3===this.fd||(a=k[l],p=a.buffersrc,s=a.is_music,t=a.tag,x=a.playbackTime,y=a.looping,B=a.volume,E=(z=a.pan)&&z.hasOwnProperty("objUid")?z.objUid:-1,s&&1===this.fd)||!s&&2===this.fd||((w=this.dl(p,t,s,y,B))?(w.cb=a.resume_position,w.Yj(!!z),w.play(y,B,x),w.un(),w.nr(),w.Lg(w.Oe||
w.Pf),a.paused&&w.pause(),a.muted&&w.Zq(),w.Lg(w.Oe||w.Pf),z&&(-1!==E?(w.ga=w.ga||new q,w.ga.rh=E,Ja.push(w.ga)):w.Xj(z.x,z.y,z.a,z.ia,z.oa,z.og))):(w=this.Tg(p,s),w.Jh=x,w.yh=a.paused,z&&(-1!==E?w.Ze.push({lm:E,aj:z.ia,zj:z.oa,Bj:z.og,en:t}):w.Ze.push({x:z.x,y:z.y,ao:z.a,aj:z.ia,zj:z.oa,Bj:z.og,en:t}))));if(f&&!H){l=0;for(n=D.length;l<n;l++)D[l].Sm(!0);H=!0}else if(!f&&H){l=0;for(n=D.length;l<n;l++)D[l].Sm(!1);H=!1}};fa.pd=function(){var a,b,c,d;a=0;for(b=Ja.length;a<b;a++)c=Ja[a],d=this.b.Wg(c.rh),
c.lg(d),c.rh=-1,d&&(M=d.x,I=d.y);Ja.length=0};fa.zq=function(a){if(!this.Cq){!a&&t&&t.resume&&t.resume();var b,c;b=0;for(c=D.length;b<c;b++)D[b].br(a);a&&t&&t.suspend&&t.suspend()}};fa.fb=function(){var a=this.b.de,b,c,d;b=0;for(c=D.length;b<c;b++)d=D[b],d.fb(a),0===d.I||3===d.I||d.xc||d.ub||!d.je()||(d.ub=!0,ra=d.tag,x.trigger(hc.prototype.A.ai,J)),0!==G&&d.un();var g,e;for(g in R)if(R.hasOwnProperty(g))for(d=R[g],b=0,c=d.length;b<c;b++)e=d[b],e.fb&&e.fb();1===w&&this.Ta.$g()&&(this.Ta.fb(a),M=this.Ta.r.x,
I=this.Ta.r.y,t.listener.setPosition(this.Ta.r.x,this.Ta.r.y,this.Vf),t.listener.setVelocity(this.Ta.Ui(),this.Ta.Vi(),0))};var Ka=[];fa.$q=function(a){var b,c,d,g,e,f=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],g=d[0],d=2*d[1],(e=4<g.length&&".ogg"===g.substr(g.length-4))&&B||!e&&!B)Ka.push({filename:g,size:d,r:null}),f+=d;return f};fa.er=function(){var a,b,c,d;a=0;for(b=Ka.length;a<b;++a)c=Ka[a],d=this.b.Hi+c.filename,c.r=this.Tg(d,!1)};fa.Ap=function(){var a=0,b,c,d;b=0;for(c=Ka.length;b<c;++b)d=Ka[b],
d.r.dq()||d.r.Wp()||this.b.za||this.b.dh?a+=d.size:d.r.xl()&&(a+=Math.floor(d.size/2));return a};fa.Tg=function(a,b){var c,d,g,e=null;c=0;for(d=sa.length;c<d;c++)if(g=sa[c],g.src===a){e=g;break}e||(e=new O(a,b),sa.push(e));return e};fa.dl=function(a,b,c,d,g){var e,f,h;e=0;for(f=D.length;e<f;e++)if(h=D[e],h.src===a&&(h.oo()||c))return h.tag=b,h;a=this.Tg(a,c);if(!a.S)return"<preload>"!==b&&(a.zh=b,a.uj=d,a.mk=g),null;h=new y(a,b);D.push(h);return h};var Ca=[];Z.prototype.ai=function(a){return gb(ra,
a)};K.A=new Z;ia.prototype.Play=function(a,b,c,d){!H&&(c=Math.pow(10,c/20),0>c&&(c=0),1<c&&(c=1),E=this.dl(this.b.Hi+a[0]+(B?".ogg":".m4a"),d,a[1],0!==b,c))&&(E.Yj(!1),E.play(0!==b,c))};K.ib=new ia;K.Mb=new function(){}})();function ic(p){this.b=p}
(function(){function p(){}function l(){}var a=ic.prototype;a.Td=function(a){this.La=a;this.b=a.b};a.Td.prototype.Va=function(){};a.mc=function(a){this.type=a;this.b=a.b;this.ji=Array(4);this.jn=this.Wh=this.kf=this.Fd=this.Ed=0;this.Yi=!1};var f=a.mc.prototype;f.Va=function(){var a=this;if(!this.b.za){jQuery(document).mousemove(function(b){a.wq(b)});jQuery(document).mousedown(function(b){a.vq(b)});jQuery(document).mouseup(function(b){a.xq(b)});jQuery(document).dblclick(function(b){a.tq(b)});var f=
function(b){a.Aq(b)};document.addEventListener("mousewheel",f,!1);document.addEventListener("DOMMouseScroll",f,!1)}};var s={left:0,top:0};f.wq=function(a){var f=this.b.za?s:jQuery(this.b.canvas).offset();this.Ed=a.pageX-f.left;this.Fd=a.pageY-f.top};f.fm=function(){return 0<this.b.mb?!0:0<=this.Ed&&0<=this.Fd&&this.Ed<this.b.width&&this.Fd<this.b.height};f.vq=function(a){this.fm()&&(this.b.Xi&&!this.b.Ad&&a.preventDefault(),this.ji[a.which]=!0,this.b.Bc=!0,this.b.trigger(ic.prototype.A.Mn,this),this.kf=
a.which-1,this.Wh=0,this.b.trigger(ic.prototype.A.$h,this),this.b.trigger(ic.prototype.A.ci,this),this.b.Bc=!1)};f.xq=function(a){this.ji[a.which]&&(this.b.Xi&&!this.b.Ad&&a.preventDefault(),this.b.Xi=!0,this.ji[a.which]=!1,this.b.Bc=!0,this.kf=a.which-1,this.b.trigger(ic.prototype.A.Sn,this),this.b.Bc=!1)};f.tq=function(a){this.fm()&&(a.preventDefault(),this.b.Bc=!0,this.kf=a.which-1,this.Wh=1,this.b.trigger(ic.prototype.A.$h,this),this.b.trigger(ic.prototype.A.ci,this),this.b.Bc=!1)};f.Aq=function(a){this.jn=
0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.Yi=!1;this.b.Bc=!0;this.b.trigger(ic.prototype.A.Tn,this);this.b.Bc=!1;this.Yi&&hb(a)&&a.preventDefault()};p.prototype.$h=function(a,f){return a===this.kf&&f===this.Wh};p.prototype.Mn=function(){return!0};p.prototype.Sn=function(a){return a===this.kf};p.prototype.ci=function(a,f,b){return a!==this.kf||f!==this.Wh?!1:this.b.gr(b,this.Ed,this.Fd)};p.prototype.Tn=function(a){this.Yi=!0;return a===this.jn};a.A=new p;a.ib=new function(){};l.prototype.rk=
function(a,f){var b,l,g,d,e;ha(f)?(b=this.b.Df(0),l=b.scale,g=b.md,d=b.bd,e=b.j,b.scale=1,b.md=1,b.bd=1,b.j=0,a.n(b.kb(this.Ed,this.Fd,!0)),b.scale=l,b.md=g,b.bd=d,b.j=e):(b=ja(f)?this.b.Df(f):this.b.Ri(f))?a.n(b.kb(this.Ed,this.Fd,!0)):a.n(0)};l.prototype.$n=function(a,f){var b,l,g,d,e;ha(f)?(b=this.b.Df(0),l=b.scale,g=b.md,d=b.cd,e=b.j,b.scale=1,b.md=1,b.cd=1,b.j=0,a.n(b.kb(this.Ed,this.Fd,!1)),b.scale=l,b.md=g,b.cd=d,b.j=e):(b=ja(f)?this.b.Df(f):this.b.Ri(f))?a.n(b.kb(this.Ed,this.Fd,!1)):a.n(0)};
a.Mb=new l})();function gc(p){this.b=p}
(function(){function p(){if(0===this.wi.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.gf?b.drawImage(this.eb,this.Xe,this.Ye,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.eb,0,0,this.width,this.height);this.wi=a.toDataURL("image/png")}return this.wi}function l(){}function a(){}var f=gc.prototype;f.Td=function(a){this.La=a;this.b=a.b};var s=f.Td.prototype;s.Va=function(){if(!this.L){var a,b,e,f,h,k,l,c,m;this.Xb=
[];this.Hf=!1;a=0;for(b=this.jb.length;a<b;a++){h=this.jb[a];l={};l.name=h[0];l.speed=h[1];l.loop=h[2];l.Qj=h[3];l.Hh=h[4];l.Cm=h[5];l.J=h[6];l.frames=[];e=0;for(f=h[7].length;e<f;e++)k=h[7][e],c={},c.cn=k[0],c.dn=k[1],c.Xe=k[2],c.Ye=k[3],c.width=k[4],c.height=k[5],c.duration=k[6],c.ob=k[7],c.pb=k[8],c.bj=k[9],c.Ah=k[10],c.Dm=k[11],c.gf=0!==c.width,c.wi="",c.Fs=p,m={left:0,top:0,right:1,bottom:1},c.Zj=m,c.kd=null,(m=this.b.np(k[0]))?c.eb=m:(c.eb=new Image,c.eb.ro=k[0],c.eb.qo=k[1],c.eb.mo=null,this.b.sr(c.eb,
k[0])),l.frames.push(c),this.Xb.push(c);this.jb[a]=l}}};s.sn=function(){var a,b,e;a=0;for(b=this.c.length;a<b;a++)e=this.c[a],e.Gg=e.Jb.kd};s.qm=function(){if(!this.L){var a,b,e;a=0;for(b=this.Xb.length;a<b;++a)e=this.Xb[a],e.eb.mo=null,e.kd=null;this.Hf=!1;this.sn()}};s.rm=function(){if(!this.L&&this.c.length){var a,b,e;a=0;for(b=this.Xb.length;a<b;++a)e=this.Xb[a],e.kd=this.b.q.Ll(e.eb,this.b.U,e.Dm);this.sn()}};s.lq=function(){if(!this.L&&!this.Hf&&this.b.q){var a,b,e;a=0;for(b=this.Xb.length;a<
b;++a)e=this.Xb[a],e.kd=this.b.q.Ll(e.eb,this.b.U,e.Dm);this.Hf=!0}};s.qn=function(){if(!this.L&&!this.c.length&&this.Hf){var a,b,e;a=0;for(b=this.Xb.length;a<b;++a)e=this.Xb[a],this.b.q.deleteTexture(e.kd),e.kd=null;this.Hf=!1}};var n=[];s.Gm=function(a){var b,e,f;b=n.length=0;for(e=this.Xb.length;b<e;++b)f=this.Xb[b].eb,-1===n.indexOf(f)&&(a.drawImage(f,0,0),n.push(f))};f.mc=function(a){this.type=a;this.b=a.b;a=this.type.jb[0].frames[0].Ah;this.Gc?this.sc.pg(a):this.sc=new ab(a)};var k=f.mc.prototype;
k.Va=function(){this.visible=0===this.Ea[0];this.ah=this.Of=!1;this.wf=0!==this.Ea[3];1===this.type.jb.length&&1===this.type.jb[0].frames.length||0===this.type.jb[0].speed||(this.b.Th(this),this.Of=!0);this.ea=this.cl(this.Ea[1])||this.type.jb[0];this.k=this.Ea[2];0>this.k&&(this.k=0);this.k>=this.ea.frames.length&&(this.k=this.ea.frames.length-1);var a=this.ea.frames[this.k];this.sc.pg(a.Ah);this.ob=a.ob;this.pb=a.pb;this.yf=this.ea.speed;this.Gc?this.nc.reset():this.nc=new Za;this.Vc=this.nc.R;
this.Vd=!0;this.Oc=0;this.Ud=!0;this.Bg=this.vk="";this.Lk=0;this.Ag=-1;this.type.lq();var b,e,f,h,k,l,c,a=0;for(b=this.type.jb.length;a<b;a++)for(h=this.type.jb[a],e=0,f=h.frames.length;e<f;e++)k=h.frames[e],0===k.width&&(k.width=k.eb.width,k.height=k.eb.height),k.gf&&(c=k.eb,l=k.Zj,l.left=k.Xe/c.width,l.top=k.Ye/c.height,l.right=(k.Xe+k.width)/c.width,l.bottom=(k.Ye+k.height)/c.height,0===k.Xe&&0===k.Ye&&k.width===c.width&&k.height===c.height&&(k.gf=!1));this.Jb=this.ea.frames[this.k];this.Gg=this.Jb.kd};
k.ic=function(){var a={a:this.ea.J,f:this.k,cas:this.yf,fs:this.Vc,ar:this.Oc,at:this.nc.R};this.Vd||(a.ap=this.Vd);this.Ud||(a.af=this.Ud);return a};k.ad=function(a){var b=this.sp(a.a);b&&(this.ea=b);this.k=a.f;0>this.k&&(this.k=0);this.k>=this.ea.frames.length&&(this.k=this.ea.frames.length-1);this.yf=a.cas;this.Vc=a.fs;this.Oc=a.ar;this.nc.reset();this.nc.R=a.at;this.Vd=a.hasOwnProperty("ap")?a.ap:!0;this.Ud=a.hasOwnProperty("af")?a.af:!0;this.Jb=this.ea.frames[this.k];this.Gg=this.Jb.kd;this.sc.pg(this.Jb.Ah);
this.ob=this.Jb.ob;this.pb=this.Jb.pb};k.gi=function(a){this.k=a?0:this.ea.frames.length-1;this.Vd=!1;this.vk=this.ea.name;this.ah=!0;this.b.trigger(gc.prototype.A.Ln,this);this.b.trigger(gc.prototype.A.Kn,this);this.ah=!1;this.Oc=0};k.Gs=function(){return this.nc.R};k.fb=function(){this.nc.add(this.b.gl(this));this.Bg.length&&this.Sk();0<=this.Ag&&this.Tk();var a=this.nc.R,b=this.ea,e=b.frames[this.k],f=e.duration/this.yf;this.Vd&&a>=this.Vc+f&&(this.Ud?this.k++:this.k--,this.Vc+=f,this.k>=b.frames.length&&
(b.Cm?(this.Ud=!1,this.k=b.frames.length-2):b.loop?this.k=b.Hh:(this.Oc++,this.Oc>=b.Qj?this.gi(!1):this.k=b.Hh)),0>this.k&&(b.Cm?(this.k=1,this.Ud=!0,b.loop||(this.Oc++,this.Oc>=b.Qj&&this.gi(!0))):b.loop?this.k=b.Hh:(this.Oc++,this.Oc>=b.Qj?this.gi(!0):this.k=b.Hh)),0>this.k?this.k=0:this.k>=b.frames.length&&(this.k=b.frames.length-1),a>this.Vc+b.frames[this.k].duration/this.yf&&(this.Vc=a),a=b.frames[this.k],this.Be(e,a),this.b.Z=!0)};k.cl=function(a){var b,e,f;b=0;for(e=this.type.jb.length;b<
e;b++)if(f=this.type.jb[b],gb(f.name,a))return f;return null};k.sp=function(a){var b,e,f;b=0;for(e=this.type.jb.length;b<e;b++)if(f=this.type.jb[b],f.J===a)return f;return null};k.Sk=function(){var a=this.ea.frames[this.k],b=this.cl(this.Bg);this.Bg="";!b||gb(b.name,this.ea.name)&&this.Vd||(this.ea=b,this.yf=b.speed,0>this.k&&(this.k=0),this.k>=this.ea.frames.length&&(this.k=this.ea.frames.length-1),1===this.Lk&&(this.k=0),this.Vd=!0,this.Vc=this.nc.R,this.Ud=!0,this.Be(a,this.ea.frames[this.k]),
this.b.Z=!0)};k.Tk=function(){var a=this.ea.frames[this.k],b=this.k;this.k=Q(this.Ag);0>this.k&&(this.k=0);this.k>=this.ea.frames.length&&(this.k=this.ea.frames.length-1);b!==this.k&&(this.Be(a,this.ea.frames[this.k]),this.Vc=this.nc.R,this.b.Z=!0);this.Ag=-1};k.Be=function(a,b){var e=a.width,f=a.height,h=b.width,k=b.height;e!=h&&(this.width*=h/e);f!=k&&(this.height*=k/f);this.ob=b.ob;this.pb=b.pb;this.sc.pg(b.Ah);this.Ga();this.Jb=b;this.Gg=b.kd;e=0;for(f=this.D.length;e<f;e++)h=this.D[e],h.yq&&
h.yq(a,b);this.b.trigger(gc.prototype.A.Be,this)};k.be=function(a){a.globalAlpha=this.opacity;var b=this.Jb,e=b.gf,f=b.eb,h=this.x,k=this.y,l=this.width,c=this.height;if(0===this.j&&0<=l&&0<=c)h-=this.ob*l,k-=this.pb*c,this.b.$e&&(h=Math.round(h),k=Math.round(k)),e?a.drawImage(f,b.Xe,b.Ye,b.width,b.height,h,k,l,c):a.drawImage(f,h,k,l,c);else{this.b.$e&&(h=Math.round(h),k=Math.round(k));a.save();var m=0<l?1:-1,n=0<c?1:-1;a.translate(h,k);1===m&&1===n||a.scale(m,n);a.rotate(this.j*m*n);h=0-this.ob*
na(l);k=0-this.pb*na(c);e?a.drawImage(f,b.Xe,b.Ye,b.width,b.height,h,k,na(l),na(c)):a.drawImage(f,h,k,na(l),na(c));a.restore()}};k.vc=function(a){a.Sb(this.Gg);a.mg(this.opacity);var b=this.Jb,e=this.yg;if(this.b.$e){var f=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;b.gf?a.we(e.Eb+f,e.Fb+h,e.Kc+f,e.Lc+h,e.qc+f,e.rc+h,e.oc+f,e.pc+h,b.Zj):a.Fh(e.Eb+f,e.Fb+h,e.Kc+f,e.Lc+h,e.qc+f,e.rc+h,e.oc+f,e.pc+h)}else b.gf?a.we(e.Eb,e.Fb,e.Kc,e.Lc,e.qc,e.rc,e.oc,e.pc,b.Zj):a.Fh(e.Eb,e.Fb,e.Kc,e.Lc,e.qc,
e.rc,e.oc,e.pc)};k.wp=function(a){var b=this.Jb,e,f;e=0;for(f=b.bj.length;e<f;e++)if(gb(a,b.bj[e][0]))return e;return-1};k.Qi=function(a,b){var e=this.Jb,f=e.bj,h;h=P(a)?this.wp(a):a-1;h=Q(h);if(0>h||h>=f.length)return b?this.x:this.y;var k=(f[h][1]-e.ob)*this.width,f=f[h][2],f=(f-e.pb)*this.height,e=Math.cos(this.j);h=Math.sin(this.j);var l=k*e-f*h,f=f*e+k*h,k=l+this.x,f=f+this.y;return b?k:f};var b=new ca,v=!1;new S(0,0,0,0);s.finish=function(a){if(v){if(a){var d=this.b.Za().Ab.Dc;a=null.Y();var e=
b.Rd(),f,h;if(a.ba){a.ba=!1;a.c.length=e.length;f=0;for(h=e.length;f<h;f++)a.c[f]=e[f];if(d)for(f=a.O.length=0,h=null.c.length;f<h;f++)e=null.c[f],b.contains(e)||a.O.push(e)}else if(d)for(d=a.c.length,a.c.length=d+e.length,f=0,h=e.length;f<h;f++)a.c[d+f]=e[f],Ba(a.O,e[f]);else ya(a.c,e);null.qd()}b.clear();v=!1}};l.prototype.Kn=function(a){return gb(this.vk,a)};l.prototype.Ln=function(){return!0};l.prototype.Be=function(){return!0};f.A=new l;a.prototype.Un=function(a,b){this.Bg=a;this.Lk=b;this.Of||
(this.b.Th(this),this.Of=!0);this.ah||this.Sk()};a.prototype.Vn=function(a){this.Ag=a;this.Of||(this.b.Th(this),this.Of=!0);this.ah||this.Tk()};f.ib=new a;f.Mb=new function(){}})();
function fc(){return[hc,ic,gc,Y.prototype.A.En,gc.prototype.ib.Wn,ic.prototype.Mb.rk,gc.prototype.ib.Xn,ic.prototype.A.ci,gc.prototype.ib.Un,Y.prototype.A.pk,Y.prototype.ib.Zn,Y.prototype.Mb.Mk,hc.prototype.ib.Play,Y.prototype.ib.Fn,Y.prototype.A.Dn,Y.prototype.Mb.random,Y.prototype.ib.Yn,gc.prototype.ib.Vn,ic.prototype.A.$h]};
